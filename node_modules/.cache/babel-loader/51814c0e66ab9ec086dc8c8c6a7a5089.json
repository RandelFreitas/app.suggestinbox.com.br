{"ast":null,"code":"import _slicedToArray from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import PropTypes from'prop-types';import{bindActionCreators}from'redux';import{connect}from'react-redux';import{listCalls}from'../../../../store/callReducer';import{atvCompany}from'../../../../store/companyReducer';import{parseISO}from'date-fns';import{format}from'date-fns-tz';import Switch from\"@material-ui/core/Switch\";import FormGroup from'@material-ui/core/FormGroup';import FormControlLabel from'@material-ui/core/FormControlLabel';import Typography from'@material-ui/core/Typography';import{Grid}from'@material-ui/core';import Paper from'@material-ui/core/Paper';import Box from'@material-ui/core/Box';import Pagination from'@material-ui/lab/Pagination';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';var useStyles=makeStyles(function(){return{tables:{marginTop:'25px'},center:{justifyContent:'center',textAlign:'center',margin:'20px'}};});var Call=function Call(props){var classes=useStyles();var companyById=props.companyById,calls=props.calls;var pages=1;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(25),_useState4=_slicedToArray(_useState3,2),limit=_useState4[0],setLimit=_useState4[1];var _useState5=useState({check:companyById.call}),_useState6=_slicedToArray(_useState5,2),call=_useState6[0],setCall=_useState6[1];useEffect(function(){props.listCalls(1,25);},[]);var atvCall=function atvCall(companyById){if(companyById.call){companyById.call=false;setCall({check:companyById.call});return props.atvCompany(companyById);}else{companyById.call=true;setCall({check:companyById.call});return props.atvCompany(companyById);}};var handleChangePage=function handleChangePage(event,value){setPage(value);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",component:\"h2\"},\"Chamada por mesa\"),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(FormGroup,{row:true},/*#__PURE__*/React.createElement(FormControlLabel,{control:/*#__PURE__*/React.createElement(Switch,{checked:call.check,onClick:function onClick(){return atvCall(companyById);},name:\"checkedA\",color:\"primary\"}),label:\"Ativar/Desativar\"})))),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{className:classes.tables,item:true},/*#__PURE__*/React.createElement(Typography,{variant:\"h6\"},\"Chamados\"))),/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(TableContainer,null,/*#__PURE__*/React.createElement(Table,{stickyHeader:true,\"aria-label\":\"sticky table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Mesa\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Hora\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Status\"))),/*#__PURE__*/React.createElement(TableBody,null,calls.map(function(call){return/*#__PURE__*/React.createElement(TableRow,{hover:true,key:call.createdAt,role:\"checkbox\",tabIndex:-1},/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},call.table),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},format(parseISO(call.createdAt),'dd/MM/yyyy HH:mm',{timeZone:'America/Sao_Paulo'})),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},call.status?\"Atendita\":\"Esperando\"));})))),/*#__PURE__*/React.createElement(Grid,{className:classes.center,container:true,item:true,xs:12,spacing:3},/*#__PURE__*/React.createElement(Box,{component:\"span\"},/*#__PURE__*/React.createElement(Pagination,{count:pages,page:page,onChange:handleChangePage})))));};Call.prototypes={companyById:PropTypes.array.isRequired};var mapStateToProps=function mapStateToProps(state){return{companyById:state.company.companyById,calls:state.call.calls};};var mapsDispatchToProps=function mapsDispatchToProps(dispatch){return bindActionCreators({listCalls:listCalls,atvCompany:atvCompany},dispatch);};export default connect(mapStateToProps,mapsDispatchToProps)(Call);","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/pages/User/Suggest/Call/index.js"],"names":["React","useState","useEffect","PropTypes","bindActionCreators","connect","listCalls","atvCompany","parseISO","format","Switch","FormGroup","FormControlLabel","Typography","Grid","Paper","Box","Pagination","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","useStyles","tables","marginTop","center","justifyContent","textAlign","margin","Call","props","classes","companyById","calls","pages","page","setPage","limit","setLimit","check","call","setCall","atvCall","handleChangePage","event","value","map","createdAt","table","timeZone","status","prototypes","array","isRequired","mapStateToProps","state","company","mapsDispatchToProps","dispatch"],"mappings":"2LAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,SAAT,KAA0B,+BAA1B,CACA,OAASC,UAAT,KAA2B,kCAA3B,CACA,OAASC,QAAT,KAAyB,UAAzB,CACA,OAASC,MAAT,KAAuB,aAAvB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CAEA,GAAMC,CAAAA,SAAS,CAAGP,UAAU,CAAC,iBAAM,CACjCQ,MAAM,CAAE,CACNC,SAAS,CAAE,MADL,CADyB,CAIjCC,MAAM,CAAE,CACNC,cAAc,CAAE,QADV,CAENC,SAAS,CAAE,QAFL,CAGNC,MAAM,CAAE,MAHF,CAJyB,CAAN,EAAD,CAA5B,CAWA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,CACtB,GAAMC,CAAAA,OAAO,CAAGT,SAAS,EAAzB,CADsB,GAEdU,CAAAA,WAFc,CAESF,KAFT,CAEdE,WAFc,CAEDC,KAFC,CAESH,KAFT,CAEDG,KAFC,CAGtB,GAAMC,CAAAA,KAAK,CAAG,CAAd,CAHsB,cAIIpC,QAAQ,CAAC,CAAD,CAJZ,wCAIdqC,IAJc,eAIRC,OAJQ,8BAKMtC,QAAQ,CAAC,EAAD,CALd,yCAKduC,KALc,eAKPC,QALO,8BAOIxC,QAAQ,CAAC,CACjCyC,KAAK,CAAEP,WAAW,CAACQ,IADc,CAAD,CAPZ,yCAOdA,IAPc,eAORC,OAPQ,eAWtB1C,SAAS,CAAC,UAAM,CACd+B,KAAK,CAAC3B,SAAN,CAAgB,CAAhB,CAAmB,EAAnB,EACD,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAMuC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACV,WAAD,CAAiB,CAC/B,GAAGA,WAAW,CAACQ,IAAf,CAAoB,CAClBR,WAAW,CAACQ,IAAZ,CAAmB,KAAnB,CACAC,OAAO,CAAC,CAACF,KAAK,CAAEP,WAAW,CAACQ,IAApB,CAAD,CAAP,CACA,MAAOV,CAAAA,KAAK,CAAC1B,UAAN,CAAiB4B,WAAjB,CAAP,CACD,CAJD,IAIK,CACHA,WAAW,CAACQ,IAAZ,CAAmB,IAAnB,CACAC,OAAO,CAAC,CAACF,KAAK,CAAEP,WAAW,CAACQ,IAApB,CAAD,CAAP,CACA,MAAOV,CAAAA,KAAK,CAAC1B,UAAN,CAAiB4B,WAAjB,CAAP,CACD,CACF,CAVD,CAYA,GAAMW,CAAAA,gBAAgB,CAAC,QAAjBA,CAAAA,gBAAiB,CAACC,KAAD,CAAQC,KAAR,CAAgB,CACrCT,OAAO,CAACS,KAAD,CAAP,CACD,CAFD,CAIA,mBACE,4CACE,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAC,IAAnC,qBADF,cAEE,oBAAC,IAAD,EAAM,SAAS,KAAf,eACE,oBAAC,IAAD,EAAM,IAAI,KAAV,eACE,oBAAC,SAAD,EAAW,GAAG,KAAd,eACA,oBAAC,gBAAD,EACE,OAAO,cACL,oBAAC,MAAD,EACE,OAAO,CAAEL,IAAI,CAACD,KADhB,CAEE,OAAO,CAAE,yBAAIG,CAAAA,OAAO,CAACV,WAAD,CAAX,EAFX,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAC,SAJR,EAFJ,CASE,KAAK,CAAC,kBATR,EADA,CADF,CADF,CAFF,cAmBE,oBAAC,IAAD,EAAM,SAAS,KAAf,eACE,oBAAC,IAAD,EAAM,SAAS,CAAED,OAAO,CAACR,MAAzB,CAAiC,IAAI,KAArC,eACE,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,aADF,CADF,CAnBF,cAyBE,oBAAC,KAAD,mBACE,oBAAC,cAAD,mBACE,oBAAC,KAAD,EAAO,YAAY,KAAnB,CAAoB,aAAW,cAA/B,eACE,oBAAC,SAAD,mBACE,oBAAC,QAAD,mBACE,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,SADF,cAEE,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,SAFF,cAGE,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,WAHF,CADF,CADF,cAQE,oBAAC,SAAD,MACIU,KAAK,CAACa,GAAN,CAAW,SAAAN,IAAI,CAAI,CACnB,mBACE,oBAAC,QAAD,EAAU,KAAK,KAAf,CAAgB,GAAG,CAAEA,IAAI,CAACO,SAA1B,CAAqC,IAAI,CAAC,UAA1C,CAAqD,QAAQ,CAAE,CAAC,CAAhE,eACE,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,EAA2BP,IAAI,CAACQ,KAAhC,CADF,cAEE,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,EAA2B1C,MAAM,CAACD,QAAQ,CAACmC,IAAI,CAACO,SAAN,CAAT,CAA2B,kBAA3B,CAA+C,CAACE,QAAQ,CAAE,mBAAX,CAA/C,CAAjC,CAFF,cAGE,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,EAA2BT,IAAI,CAACU,MAAL,CAAa,UAAb,CAA0B,WAArD,CAHF,CADF,CAOD,CARC,CADJ,CARF,CADF,CADF,cAuBE,oBAAC,IAAD,EAAM,SAAS,CAAEnB,OAAO,CAACN,MAAzB,CAAiC,SAAS,KAA1C,CAA2C,IAAI,KAA/C,CAAgD,EAAE,CAAE,EAApD,CAAwD,OAAO,CAAE,CAAjE,eACE,oBAAC,GAAD,EAAK,SAAS,CAAC,MAAf,eACE,oBAAC,UAAD,EACE,KAAK,CAAES,KADT,CAEE,IAAI,CAAEC,IAFR,CAGE,QAAQ,CAAEQ,gBAHZ,EADF,CADF,CAvBF,CAzBF,CADF,CA6DD,CA5FD,CA8FAd,IAAI,CAACsB,UAAL,CAAkB,CAChBnB,WAAW,CAAEhC,SAAS,CAACoD,KAAV,CAAgBC,UADb,CAAlB,CAIA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAChCvB,WAAW,CAAEuB,KAAK,CAACC,OAAN,CAAcxB,WADK,CAEhCC,KAAK,CAAEsB,KAAK,CAACf,IAAN,CAAWP,KAFc,CAAL,EAA7B,CAKA,GAAMwB,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAAC,QAAQ,QAClCzD,CAAAA,kBAAkB,CAAC,CAACE,SAAS,CAATA,SAAD,CAAYC,UAAU,CAAVA,UAAZ,CAAD,CAA0BsD,QAA1B,CADgB,EAApC,CAGA,cAAexD,CAAAA,OAAO,CAACoD,eAAD,CAAkBG,mBAAlB,CAAP,CAA8C5B,IAA9C,CAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { listCalls } from '../../../../store/callReducer';\r\nimport { atvCompany } from '../../../../store/companyReducer';\r\nimport { parseISO } from 'date-fns';\r\nimport { format } from 'date-fns-tz';\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Grid } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst useStyles = makeStyles(() =>({\r\n  tables: {\r\n    marginTop: '25px'\r\n  },\r\n  center: {\r\n    justifyContent: 'center',\r\n    textAlign: 'center',\r\n    margin: '20px'\r\n  },\r\n}));\r\n\r\nconst Call = (props) => {\r\n  const classes = useStyles();\r\n  const { companyById, calls } = props;\r\n  const pages = 1;\r\n  const [ page, setPage ] = useState(1);\r\n  const [ limit, setLimit ] = useState(25);\r\n\r\n  const [ call, setCall ] = useState({\r\n    check: companyById.call\r\n  });\r\n\r\n  useEffect(() => {\r\n    props.listCalls(1, 25)\r\n  },[]);\r\n\r\n  const atvCall = (companyById) => {\r\n    if(companyById.call){\r\n      companyById.call = false;\r\n      setCall({check: companyById.call});\r\n      return props.atvCompany(companyById);\r\n    }else{\r\n      companyById.call = true;\r\n      setCall({check: companyById.call});\r\n      return props.atvCompany(companyById);\r\n    }\r\n  }\r\n\r\n  const handleChangePage=(event, value)=>{\r\n    setPage(value);\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <Typography variant=\"h5\" component=\"h2\">Chamada por mesa</Typography>\r\n      <Grid container>\r\n        <Grid item>\r\n          <FormGroup row>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={call.check}\r\n                onClick={()=>atvCall(companyById)}\r\n                name=\"checkedA\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Ativar/Desativar\"\r\n          />\r\n          </FormGroup>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container>\r\n        <Grid className={classes.tables} item>\r\n          <Typography variant=\"h6\">Chamados</Typography>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Paper>\r\n        <TableContainer>\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align='center'>Mesa</TableCell>\r\n                <TableCell align='center'>Hora</TableCell>\r\n                <TableCell align='center'>Status</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              { calls.map( call => {\r\n                return (\r\n                  <TableRow hover key={call.createdAt} role=\"checkbox\" tabIndex={-1}>\r\n                    <TableCell align='center'>{call.table}</TableCell>\r\n                    <TableCell align='center'>{format(parseISO(call.createdAt), 'dd/MM/yyyy HH:mm', {timeZone: 'America/Sao_Paulo'} )}</TableCell>\r\n                    <TableCell align='center'>{call.status? \"Atendita\" : \"Esperando\"}</TableCell>\r\n                  </TableRow>\r\n                )\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <Grid className={classes.center} container item xs={12} spacing={3}>\r\n          <Box component=\"span\">\r\n            <Pagination\r\n              count={pages}\r\n              page={page}\r\n              onChange={handleChangePage}\r\n            />\r\n          </Box>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nCall.prototypes = {\r\n  companyById: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  companyById: state.company.companyById,\r\n  calls: state.call.calls,\r\n});\r\n\r\nconst mapsDispatchToProps = dispatch => \r\n  bindActionCreators({listCalls, atvCompany}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapsDispatchToProps)(Call);"]},"metadata":{},"sourceType":"module"}