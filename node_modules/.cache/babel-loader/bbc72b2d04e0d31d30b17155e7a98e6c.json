{"ast":null,"code":"import _objectSpread from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import api from'../services/api';import history from'../services/history';var ACTIONS={LIST_CALLS:'LISTCALLS',BY_ID_CALL:'BYIDCALL',ADD_CALL:'ADDCALL',UPDATE_CALL:'UPDATECALL'};var INITIAL_STATE={calls:[],infosCalls:[],callById:[]};export var callReducer=function callReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.LIST_CALLS:return _objectSpread({},state,{calls:action.calls,infosCalls:action.infosCalls});case ACTIONS.ADD_CALL:return _objectSpread({},state);case ACTIONS.BY_ID_CALL:return _objectSpread({},state,{callById:action.callById});case ACTIONS.UPDATE_CALL:return state;default:return state;}};//LISTAR COMPANIAS\nexport var listCalls=function listCalls(page,nOfItems){return function(dispatch){api.get(\"/adm/all-calls?page=\".concat(page,\"&limit=\").concat(nOfItems)).then(function(Response){var _Response$data=Response.data,docs=_Response$data.docs,infos=_Response$data.infos;dispatch({type:ACTIONS.LIST_CALLS,calls:docs,infosCalls:infos});}).catch(function(error){console.log(error);});};};//GET BY ID COMPANY\nexport var getCallById=function getCallById(id){return function(dispatch){api.get(\"/adm/call/\".concat(id)).then(function(Response){dispatch({type:ACTIONS.BY_ID_CALL,callById:Response.data});}).catch(function(error){console.log(error);});};};//UPDATE COMPANY\nexport var updateCall=function updateCall(company,id,idUser){return function(dispatch){api.put(\"/adm/call/\".concat(id),company).then(function(Response){dispatch({type:ACTIONS.UPDATE_CALL});},history.push(\"/suggest/call/?\".concat(idUser,\"/?\").concat(id,\"?page=1&limit=25\"))).catch(function(error){console.log(error);});};};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/callReducer.js"],"names":["api","history","ACTIONS","LIST_CALLS","BY_ID_CALL","ADD_CALL","UPDATE_CALL","INITIAL_STATE","calls","infosCalls","callById","callReducer","state","action","type","listCalls","page","nOfItems","dispatch","get","then","Response","data","docs","infos","catch","error","console","log","getCallById","id","updateCall","company","idUser","put","push"],"mappings":"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","sourcesContent":["import api from '../services/api';\r\nimport history from '../services/history';\r\n\r\nconst ACTIONS = {\r\n  LIST_CALLS: 'LISTCALLS',\r\n  BY_ID_CALL: 'BYIDCALL',\r\n  ADD_CALL: 'ADDCALL',\r\n  UPDATE_CALL: 'UPDATECALL',\r\n}\r\nconst INITIAL_STATE = {\r\n  calls: [],\r\n  infosCalls: [],\r\n  callById: [],\r\n}\r\nexport const callReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.LIST_CALLS:\r\n      return {...state, calls: action.calls, infosCalls: action.infosCalls}\r\n    case ACTIONS.ADD_CALL:\r\n      return {...state}\r\n    case ACTIONS.BY_ID_CALL:\r\n      return {...state, callById: action.callById}\r\n    case ACTIONS.UPDATE_CALL:\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//LISTAR COMPANIAS\r\nexport const listCalls = (page, nOfItems) => {\r\n  return dispatch => {\r\n    api.get(`/adm/all-calls?page=${page}&limit=${nOfItems}`)\r\n    .then(Response => {\r\n      const { docs, infos } = Response.data;\r\n      dispatch({\r\n        type: ACTIONS.LIST_CALLS,\r\n        calls: docs,\r\n        infosCalls: infos,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//GET BY ID COMPANY\r\nexport const getCallById = (id) => {\r\n  return dispatch => {\r\n    api.get(`/adm/call/${id}`)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.BY_ID_CALL,\r\n        callById: Response.data,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n  }\r\n}\r\n//UPDATE COMPANY\r\nexport const updateCall = (company, id, idUser) => {\r\n  return dispatch => {\r\n    api.put(`/adm/call/${id}`, company)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.UPDATE_CALL,\r\n      })\r\n    }, history.push(`/suggest/call/?${idUser}/?${id}?page=1&limit=25`))\r\n    .catch(error => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}