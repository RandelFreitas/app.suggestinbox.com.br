{"ast":null,"code":"import _objectSpread from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import api from'../services/api';import history from'../services/history';var ACTIONS={LIST_COMPANIES:'LISTCOMPANIES',BY_ID_COMPANY:'BYIDCOMPANY',UPDATE_COMPANY:'UPDATECOMPANY',ATV_COMPANY:'ATVCOMPANY',CLEAN_COMPANY:'CLEANCOMPANY',ADD_COMPANY:'ADDCOMPANY'};var INITIAL_STATE={companies:[],infosCompanies:[],companyById:[],companyAtv:[]};export var companyReducer=function companyReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.LIST_COMPANIES:return _objectSpread({},state,{companies:action.companies,infosCompanies:action.infosCompanies});case ACTIONS.ADD_COMPANY:return _objectSpread({},state,{companyById:action.companyById});case ACTIONS.BY_ID_COMPANY:return _objectSpread({},state,{companyById:action.companyById});case ACTIONS.UPDATE_COMPANY:return state;case ACTIONS.ATV_COMPANY:return _objectSpread({},state,{companyById:action.companyById});//DEFAULT\ndefault:return state;}};//LISTAR COMPANIAS\nexport var listCompanies=function listCompanies(page,nOfItems){return function(dispatch){api.get(\"/adm/company?page=\".concat(page,\"&limit=\").concat(nOfItems)).then(function(Response){var _Response$data=Response.data,docs=_Response$data.docs,infos=_Response$data.infos;dispatch({type:ACTIONS.LIST_COMPANIES,companies:docs,infosCompanies:infos});}).catch(function(error){console.log(error);});};};//ADICIONAR COMPANY\nexport var addCompany=function addCompany(company,id){return function(dispatch){api.post('/adm/company',company).then(function(Response){dispatch({type:ACTIONS.ADD_COMPANY,companyById:Response.data});},history.push(\"/user\")).catch(function(error){console.log(error);});};};//GET BY ID COMPANY\nexport var getCompanyById=function getCompanyById(id){return function(dispatch){api.get(\"/adm/company/\".concat(id)).then(function(Response){dispatch({type:ACTIONS.BY_ID_COMPANY,companyById:Response.data});}).catch(function(error){console.log(error);});};};//UPDATE COMPANY\nexport var updateCompany=function updateCompany(company,id,idUser){return function(dispatch){api.put(\"/adm/company/\".concat(id),company).then(function(Response){dispatch({type:ACTIONS.UPDATE_COMPANY//company: Response.data\n});},history.push(\"/suggest/?\".concat(idUser,\"/?\").concat(id,\"?page=1&limit=25\"))).catch(function(error){console.log(error);});};};//LIMPAR CAMPOS COMPANY\nexport var cleanCompany=function cleanCompany(){return{type:ACTIONS.CLEAN_COMPANY};};//ATIVAR / DESATIVAR: MENU, PROMO, CALL\nexport var atvCompany=function atvCompany(company){return function(dispatch){api.put(\"/adm/company/\".concat(company._id),company).then(function(Response){dispatch({type:ACTIONS.ATV_COMPANY,companyById:company});});};};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/companyReducer.js"],"names":["api","history","ACTIONS","LIST_COMPANIES","BY_ID_COMPANY","UPDATE_COMPANY","ATV_COMPANY","CLEAN_COMPANY","ADD_COMPANY","INITIAL_STATE","companies","infosCompanies","companyById","companyAtv","companyReducer","state","action","type","listCompanies","page","nOfItems","dispatch","get","then","Response","data","docs","infos","catch","error","console","log","addCompany","company","id","post","push","getCompanyById","updateCompany","idUser","put","cleanCompany","atvCompany","_id"],"mappings":"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","sourcesContent":["import api from '../services/api';\r\nimport history from '../services/history';\r\n\r\nconst ACTIONS = {\r\n  LIST_COMPANIES: 'LISTCOMPANIES',\r\n  BY_ID_COMPANY: 'BYIDCOMPANY',\r\n  UPDATE_COMPANY: 'UPDATECOMPANY',\r\n  ATV_COMPANY: 'ATVCOMPANY',\r\n  CLEAN_COMPANY: 'CLEANCOMPANY',\r\n  ADD_COMPANY: 'ADDCOMPANY',\r\n}\r\nconst INITIAL_STATE = {\r\n  companies: [],\r\n  infosCompanies: [],\r\n  companyById: [],\r\n  companyAtv: [],\r\n}\r\nexport const companyReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.LIST_COMPANIES:\r\n      return {...state, companies: action.companies, infosCompanies: action.infosCompanies}\r\n    case ACTIONS.ADD_COMPANY:\r\n      return {...state, companyById: action.companyById}\r\n    case ACTIONS.BY_ID_COMPANY:\r\n      return {...state, companyById: action.companyById}\r\n    case ACTIONS.UPDATE_COMPANY:\r\n      return state;\r\n    case ACTIONS.ATV_COMPANY:\r\n      return {...state, companyById: action.companyById}\r\n    //DEFAULT\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//LISTAR COMPANIAS\r\nexport const listCompanies = (page, nOfItems) => {\r\n  return dispatch => {\r\n    api.get(`/adm/company?page=${page}&limit=${nOfItems}`)\r\n    .then(Response => {\r\n      const { docs, infos } = Response.data;\r\n      dispatch({\r\n        type: ACTIONS.LIST_COMPANIES,\r\n        companies: docs,\r\n        infosCompanies: infos,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//ADICIONAR COMPANY\r\nexport const addCompany = (company, id) => {\r\n  return dispatch => {\r\n    api.post('/adm/company', company)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.ADD_COMPANY,\r\n        companyById: Response.data,\r\n      });\r\n    }, history.push(`/user`))\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//GET BY ID COMPANY\r\nexport const getCompanyById = (id) => {\r\n  return dispatch => {\r\n    api.get(`/adm/company/${id}`)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.BY_ID_COMPANY,\r\n        companyById: Response.data,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n  }\r\n}\r\n//UPDATE COMPANY\r\nexport const updateCompany = (company, id, idUser) => {\r\n  return dispatch => {\r\n    api.put(`/adm/company/${id}`, company)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.UPDATE_COMPANY,\r\n        //company: Response.data\r\n      })\r\n    }, history.push(`/suggest/?${idUser}/?${id}?page=1&limit=25`))\r\n    .catch(error => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n//LIMPAR CAMPOS COMPANY\r\nexport const cleanCompany = () => {\r\n  return {\r\n    type: ACTIONS.CLEAN_COMPANY,\r\n  }\r\n}\r\n//ATIVAR / DESATIVAR: MENU, PROMO, CALL\r\nexport const atvCompany = (company) => {\r\n  return dispatch => {\r\n    api.put(`/adm/company/${company._id}`, company)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.ATV_COMPANY,\r\n        companyById: company\r\n      })\r\n    })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}