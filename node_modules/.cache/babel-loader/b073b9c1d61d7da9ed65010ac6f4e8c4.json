{"ast":null,"code":"import _objectSpread from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import api from'../services/api';import history from'../services/history';var ACTIONS={LIST_USERS:'LISTUSERS',BY_ID_USER:'BYIDUSER',UPDATE_USER:'UPDATEUSER'};var INITIAL_STATE={users:[],userById:[],userUp:[],infosUsers:[]};export var userReducer=function userReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.BY_ID_USER:return _objectSpread({},state,{userById:action.userById});case ACTIONS.UPDATE_USER:return _objectSpread({},state,{user:action.user});default:return state;}};//LISTAR TODOS USUÁRIOS\nexport var listUser=function listUser(page,nOfItems){return function(dispatch){api.get(\"/adm/user?page=\".concat(page,\"&limit=\").concat(nOfItems)).then(function(Response){var _Response$data=Response.data,docs=_Response$data.docs,infos=_Response$data.infos;dispatch({type:ACTIONS.LIST_USERS,users:docs,infosUsers:infos});}).catch(function(error){console.log(error);});};};//GET BY ID USER\nexport var getUserById=function getUserById(id){return function(dispatch){api.get(\"/adm/user/\".concat(id)).then(function(Response){dispatch({type:ACTIONS.BY_ID_USER,userById:Response.data});}).catch(function(error){console.log(error);});};};//UPDATE USER\nexport var updateUser=function updateUser(user,id){return function(dispatch){api.put(\"/adm/user/\".concat(id),user).then(function(Response){dispatch({type:ACTIONS.UPDATE_USER,userUp:Response.data});},history.push(\"/user/?\".concat(id,\"?page=1&limit=25\"))).catch(function(error){console.log(error);});};};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/userReducer.js"],"names":["api","history","ACTIONS","LIST_USERS","BY_ID_USER","UPDATE_USER","INITIAL_STATE","users","userById","userUp","infosUsers","userReducer","state","action","type","user","listUser","page","nOfItems","dispatch","get","then","Response","data","docs","infos","catch","error","console","log","getUserById","id","updateUser","put","push"],"mappings":"0LAAA,MAAOA,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CAEA,GAAMC,CAAAA,OAAO,CAAG,CACdC,UAAU,CAAE,WADE,CAEdC,UAAU,CAAE,UAFE,CAGdC,WAAW,CAAE,YAHC,CAAhB,CAKA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,KAAK,CAAE,EADa,CAEpBC,QAAQ,CAAE,EAFU,CAGpBC,MAAM,CAAE,EAHY,CAIpBC,UAAU,CAAE,EAJQ,CAAtB,CAMA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAmC,IAAlCC,CAAAA,KAAkC,2DAA1BN,aAA0B,IAAXO,CAAAA,MAAW,2CAC5D,OAAOA,MAAM,CAACC,IAAd,EACE,IAAKZ,CAAAA,OAAO,CAACE,UAAb,CACE,wBAAWQ,KAAX,EAAkBJ,QAAQ,CAAEK,MAAM,CAACL,QAAnC,GACF,IAAKN,CAAAA,OAAO,CAACG,WAAb,CACE,wBAAWO,KAAX,EAAkBG,IAAI,CAAEF,MAAM,CAACE,IAA/B,GACF,QACE,MAAOH,CAAAA,KAAP,CANJ,CAQD,CATM,CAUP;AACA,MAAO,IAAMI,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAOC,QAAP,CAAoB,CAC1C,MAAO,UAAAC,QAAQ,CAAI,CACjBnB,GAAG,CAACoB,GAAJ,0BAA0BH,IAA1B,mBAAwCC,QAAxC,GACCG,IADD,CACM,SAAAC,QAAQ,CAAI,oBACQA,QAAQ,CAACC,IADjB,CACRC,IADQ,gBACRA,IADQ,CACFC,KADE,gBACFA,KADE,CAEhBN,QAAQ,CAAC,CACPL,IAAI,CAAEZ,OAAO,CAACC,UADP,CAEPI,KAAK,CAAEiB,IAFA,CAGPd,UAAU,CAAEe,KAHL,CAAD,CAAR,CAKD,CARD,EASCC,KATD,CASO,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAXD,EAYD,CAbD,CAcD,CAfM,CAgBP;AACA,MAAO,IAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAQ,CACjC,MAAO,UAAAZ,QAAQ,CAAI,CACjBnB,GAAG,CAACoB,GAAJ,qBAAqBW,EAArB,GACCV,IADD,CACM,SAAAC,QAAQ,CAAI,CAChBH,QAAQ,CAAC,CACPL,IAAI,CAAEZ,OAAO,CAACE,UADP,CAEPI,QAAQ,CAAEc,QAAQ,CAACC,IAFZ,CAAD,CAAR,CAID,CAND,EAOCG,KAPD,CAOO,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATD,EAUD,CAXD,CAYD,CAbM,CAcP;AACA,MAAO,IAAMK,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACjB,IAAD,CAAOgB,EAAP,CAAc,CACtC,MAAO,UAAAZ,QAAQ,CAAI,CACjBnB,GAAG,CAACiC,GAAJ,qBAAqBF,EAArB,EAA2BhB,IAA3B,EACCM,IADD,CACM,SAAAC,QAAQ,CAAI,CAChBH,QAAQ,CAAC,CACPL,IAAI,CAAEZ,OAAO,CAACG,WADP,CAEPI,MAAM,CAAEa,QAAQ,CAACC,IAFV,CAAD,CAAR,CAID,CAND,CAMGtB,OAAO,CAACiC,IAAR,kBAAuBH,EAAvB,qBANH,EAOCL,KAPD,CAOO,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATD,EAUD,CAXD,CAYD,CAbM","sourcesContent":["import api from '../services/api';\r\nimport history from '../services/history';\r\n\r\nconst ACTIONS = {\r\n  LIST_USERS: 'LISTUSERS',\r\n  BY_ID_USER: 'BYIDUSER',\r\n  UPDATE_USER: 'UPDATEUSER',\r\n}\r\nconst INITIAL_STATE = {\r\n  users: [],\r\n  userById: [],\r\n  userUp: [],\r\n  infosUsers: [],\r\n}\r\nexport const userReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.BY_ID_USER:\r\n      return {...state, userById: action.userById}\r\n    case ACTIONS.UPDATE_USER:\r\n      return {...state, user: action.user}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//LISTAR TODOS USUÁRIOS\r\nexport const listUser = (page, nOfItems) => {\r\n  return dispatch => {\r\n    api.get(`/adm/user?page=${page}&limit=${nOfItems}`)\r\n    .then(Response => {\r\n      const { docs, infos } = Response.data;\r\n      dispatch({\r\n        type: ACTIONS.LIST_USERS,\r\n        users: docs,\r\n        infosUsers: infos,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//GET BY ID USER\r\nexport const getUserById = (id) => {\r\n  return dispatch => {\r\n    api.get(`/adm/user/${id}`)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.BY_ID_USER,\r\n        userById: Response.data,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n  }\r\n}\r\n//UPDATE USER\r\nexport const updateUser = (user, id) => {\r\n  return dispatch => {\r\n    api.put(`/adm/user/${id}`, user)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.UPDATE_USER,\r\n        userUp: Response.data\r\n      })\r\n    }, history.push(`/user/?${id}?page=1&limit=25`))\r\n    .catch(error => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}