{"ast":null,"code":"import _slicedToArray from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import PropTypes from'prop-types';import{bindActionCreators}from'redux';import{connect}from'react-redux';import{listCalls,destroyCall}from'../../../../store/callReducer';import{atvCompany}from'../../../../store/companyReducer';import{parseISO}from'date-fns';import{format}from'date-fns-tz';import Switch from\"@material-ui/core/Switch\";import FormGroup from'@material-ui/core/FormGroup';import FormControlLabel from'@material-ui/core/FormControlLabel';import Typography from'@material-ui/core/Typography';import Grid from'@material-ui/core/Grid';import Button from'@material-ui/core/Button';import Paper from'@material-ui/core/Paper';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';var useStyles=makeStyles(function(){return{tables:{marginBottom:'25px'},center:{justifyContent:'center',textAlign:'center',margin:'20px'},hide:{display:'none'},buttonAtv:{margin:'15px 0'}};});var Call=function Call(props){var classes=useStyles();var companyById=props.companyById,calls=props.calls;var _useState=useState({check:companyById.call}),_useState2=_slicedToArray(_useState,2),call=_useState2[0],setCall=_useState2[1];useEffect(function(){props.listCalls(1,25);},[]);useEffect(function(){setCall({check:companyById.call});},[companyById.call]);var atvCall=function atvCall(companyById){if(companyById.call){companyById.call=false;setCall({check:companyById.call});return props.atvCompany(companyById);}else{companyById.call=true;setCall({check:companyById.call});return props.atvCompany(companyById);}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",component:\"h2\"},\"Chamadas\"),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,className:classes.buttonAtv},/*#__PURE__*/React.createElement(FormGroup,{row:true},/*#__PURE__*/React.createElement(FormControlLabel,{control:/*#__PURE__*/React.createElement(Switch,{checked:call.check?call.check:false,onClick:function onClick(){return atvCall(companyById);},name:\"checkedA\",color:\"primary\"}),label:\"Ativar/Desativar\"})))),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{className:classes.tables,item:true},/*#__PURE__*/React.createElement(Typography,{variant:\"h6\"},\"Chamados por mesa\"))),/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(TableContainer,null,/*#__PURE__*/React.createElement(Table,{stickyHeader:true,\"aria-label\":\"sticky table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Local\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Hora\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"}))),/*#__PURE__*/React.createElement(TableBody,null,calls.map(function(call){return/*#__PURE__*/React.createElement(TableRow,{hover:true,key:call.createdAt,role:\"checkbox\",tabIndex:-1},/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Mesa \",call.table),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},format(parseISO(call.createdAt),'dd/MM/yyyy HH:mm',{timeZone:'America/Sao_Paulo'})),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(Button,{className:classes.button,onClick:function onClick(){return props.destroyCall(call._id);},variant:\"contained\",color:\"primary\"},\"Atendida\")));}))))));};Call.prototypes={companyById:PropTypes.array.isRequired};var mapStateToProps=function mapStateToProps(state){return{companyById:state.company.companyById,calls:state.call.calls};};var mapsDispatchToProps=function mapsDispatchToProps(dispatch){return bindActionCreators({listCalls:listCalls,atvCompany:atvCompany,destroyCall:destroyCall},dispatch);};export default connect(mapStateToProps,mapsDispatchToProps)(Call);","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/pages/User/Suggest/Call/index.js"],"names":["React","useState","useEffect","PropTypes","bindActionCreators","connect","listCalls","destroyCall","atvCompany","parseISO","format","Switch","FormGroup","FormControlLabel","Typography","Grid","Button","Paper","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","useStyles","tables","marginBottom","center","justifyContent","textAlign","margin","hide","display","buttonAtv","Call","props","classes","companyById","calls","check","call","setCall","atvCall","map","createdAt","table","timeZone","button","_id","prototypes","array","isRequired","mapStateToProps","state","company","mapsDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { listCalls, destroyCall } from '../../../../store/callReducer';\r\nimport { atvCompany } from '../../../../store/companyReducer';\r\nimport { parseISO } from 'date-fns';\r\nimport { format } from 'date-fns-tz';\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst useStyles = makeStyles(() =>({\r\n  tables: {\r\n    marginBottom: '25px',\r\n  },\r\n  center: {\r\n    justifyContent: 'center',\r\n    textAlign: 'center',\r\n    margin: '20px'\r\n  },\r\n  hide: {\r\n    display: 'none'\r\n  },\r\n  buttonAtv: {\r\n    margin: '15px 0'\r\n  }\r\n}));\r\n\r\nconst Call = (props) => {\r\n  const classes = useStyles();\r\n  const { companyById, calls } = props;\r\n\r\n  const [ call, setCall ] = useState({\r\n    check: companyById.call\r\n  });\r\n\r\n  useEffect(() => {\r\n    props.listCalls(1, 25)\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    setCall({check: companyById.call});\r\n  },[companyById.call])\r\n\r\n  const atvCall = (companyById) => {\r\n    if(companyById.call){\r\n      companyById.call = false;\r\n      setCall({check: companyById.call});\r\n      return props.atvCompany(companyById);\r\n    }else{\r\n      companyById.call = true;\r\n      setCall({check: companyById.call});\r\n      return props.atvCompany(companyById);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <Typography variant=\"h5\" component=\"h2\">Chamadas</Typography>\r\n      <Grid container>\r\n        <Grid item className={classes.buttonAtv}>\r\n          <FormGroup row>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={call.check? call.check : false}\r\n                onClick={()=>atvCall(companyById)}\r\n                name=\"checkedA\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Ativar/Desativar\"\r\n          />\r\n          </FormGroup>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container>\r\n        <Grid className={classes.tables} item>\r\n          <Typography variant=\"h6\">Chamados por mesa</Typography>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Paper>\r\n        <TableContainer>\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align='center'>Local</TableCell>\r\n                <TableCell align='center'>Hora</TableCell>\r\n                <TableCell align='center'></TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              { calls.map( call => {\r\n                return (\r\n                  <TableRow hover key={call.createdAt} role=\"checkbox\" tabIndex={-1}>\r\n                    <TableCell align='center'>Mesa {call.table}</TableCell>\r\n                    <TableCell align='center'>{format(parseISO(call.createdAt), 'dd/MM/yyyy HH:mm', {timeZone: 'America/Sao_Paulo'} )}</TableCell>\r\n                    <TableCell align='center'>\r\n                      <Button className={classes.button} onClick={()=>props.destroyCall(call._id)} variant=\"contained\" color=\"primary\">\r\n                        Atendida\r\n                      </Button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                )\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nCall.prototypes = {\r\n  companyById: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  companyById: state.company.companyById,\r\n  calls: state.call.calls,\r\n});\r\n\r\nconst mapsDispatchToProps = dispatch => \r\n  bindActionCreators({listCalls, atvCompany, destroyCall}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapsDispatchToProps)(Call);"]},"metadata":{},"sourceType":"module"}