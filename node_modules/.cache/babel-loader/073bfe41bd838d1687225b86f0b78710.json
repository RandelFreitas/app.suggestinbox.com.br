{"ast":null,"code":"import api from '../services/api';\nimport history from \"../services/history\";\nconst ACTIONS = {\n  INFOS: 'INFOS',\n  ADD: 'ADD_SUGGEST'\n};\nconst INITIAL_STATE = {\n  infos: [],\n  suggest: []\n};\nexport const clientReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ACTIONS.INFOS:\n      return { ...state,\n        infos: action.infos\n      };\n\n    case ACTIONS.ADD:\n      return { ...state,\n        suggest: action.suggest\n      };\n\n    default:\n      return state;\n  }\n}; //OBTER INFOS DA COMPANIA\n\nexport const getInfo = id => {\n  return dispatch => {\n    api.get(`/client/${id}`).then(Response => {\n      dispatch({\n        type: ACTIONS.INFOS,\n        infos: Response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n}; //ENVIAR SUGGEST\n\nexport const submitSuggest = suggest => {\n  return dispatch => {\n    api.post(`/client/${suggest.companyId}`, suggest).then(Response => {\n      dispatch({\n        type: ACTIONS.ADD,\n        suggest: Response.data\n      });\n    }, history.push(`/client/opiniao/sucesso/?${suggest.companyId}`)).catch(error => {\n      console.log(error);\n    });\n  };\n};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/clientReducer.js"],"names":["api","history","ACTIONS","INFOS","ADD","INITIAL_STATE","infos","suggest","clientReducer","state","action","type","getInfo","id","dispatch","get","then","Response","data","catch","error","console","log","submitSuggest","post","companyId","push"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,MAAMC,OAAO,GAAG;AACdC,EAAAA,KAAK,EAAE,OADO;AAEdC,EAAAA,GAAG,EAAE;AAFS,CAAhB;AAIA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,KAAK,EAAC,EADc;AAEpBC,EAAAA,OAAO,EAAC;AAFY,CAAtB;AAIA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAK,GAAGJ,aAAT,EAAwBK,MAAxB,KAAmC;AAC9D,UAAOA,MAAM,CAACC,IAAd;AACE,SAAKT,OAAO,CAACC,KAAb;AACE,aAAO,EAAC,GAAGM,KAAJ;AAAWH,QAAAA,KAAK,EAAEI,MAAM,CAACJ;AAAzB,OAAP;;AACF,SAAKJ,OAAO,CAACE,GAAb;AACE,aAAO,EAAC,GAAGK,KAAJ;AAAWF,QAAAA,OAAO,EAAEG,MAAM,CAACH;AAA3B,OAAP;;AACF;AACE,aAAOE,KAAP;AANJ;AAQD,CATM,C,CAUP;;AACA,OAAO,MAAMG,OAAO,GAAIC,EAAD,IAAQ;AAC7B,SAAOC,QAAQ,IAAI;AACjBd,IAAAA,GAAG,CAACe,GAAJ,CAAS,WAAUF,EAAG,EAAtB,EACCG,IADD,CACMC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAAC;AACPH,QAAAA,IAAI,EAAET,OAAO,CAACC,KADP;AAEPG,QAAAA,KAAK,EAAEW,QAAQ,CAACC;AAFT,OAAD,CAAR;AAID,KAND,EAOCC,KAPD,CAOOC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KATD;AAUD,GAXD;AAYD,CAbM,C,CAcP;;AACA,OAAO,MAAMG,aAAa,GAAIhB,OAAD,IAAa;AACxC,SAAOO,QAAQ,IAAI;AACjBd,IAAAA,GAAG,CAACwB,IAAJ,CAAU,WAAUjB,OAAO,CAACkB,SAAU,EAAtC,EAAyClB,OAAzC,EACCS,IADD,CACMC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAAC;AACPH,QAAAA,IAAI,EAAET,OAAO,CAACE,GADP;AAEPG,QAAAA,OAAO,EAAEU,QAAQ,CAACC;AAFX,OAAD,CAAR;AAID,KAND,EAMGjB,OAAO,CAACyB,IAAR,CAAc,4BAA2BnB,OAAO,CAACkB,SAAU,EAA3D,CANH,EAOCN,KAPD,CAOOC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KATD;AAUD,GAXD;AAYD,CAbM","sourcesContent":["import api from '../services/api';\r\nimport history from \"../services/history\";\r\n\r\nconst ACTIONS = {\r\n  INFOS: 'INFOS',\r\n  ADD: 'ADD_SUGGEST'\r\n}\r\nconst INITIAL_STATE = {\r\n  infos:[],\r\n  suggest:[]\r\n}\r\nexport const clientReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.INFOS:\r\n      return {...state, infos: action.infos}\r\n    case ACTIONS.ADD:\r\n      return {...state, suggest: action.suggest}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//OBTER INFOS DA COMPANIA\r\nexport const getInfo = (id) => {\r\n  return dispatch => {\r\n    api.get(`/client/${id}`)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.INFOS,\r\n        infos: Response.data,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//ENVIAR SUGGEST\r\nexport const submitSuggest = (suggest) => {\r\n  return dispatch => {\r\n    api.post(`/client/${suggest.companyId}`, suggest)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.ADD,\r\n        suggest: Response.data,\r\n      });\r\n    }, history.push(`/client/opiniao/sucesso/?${suggest.companyId}`))\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}