{"ast":null,"code":"import _toConsumableArray from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import api from'../services/api';import history from'../services/history';var ACTIONS={LIST_SUGGESTS:'LISTSUGGESTS',FAVORITE:'FAVORITE',TOFILE:'TOFILE'};var INITIAL_STATE={suggests:[],suggestById:[],infosSuggests:[]};export var suggestReducer=function suggestReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){//*********************SUGGESTS*********************\ncase ACTIONS.LIST_SUGGESTS:return _objectSpread({},state,{suggests:action.suggests,infosSuggests:action.infosSuggests});case ACTIONS.FAVORITE:var listUp=_toConsumableArray(state.suggests);listUp.forEach(function(suggest){if(suggest._id===action._id){suggest.favorite=true;}});return _objectSpread({},state,{suggests:listUp});case ACTIONS.TOFILE:var listUpOut=_toConsumableArray(state.suggests);listUpOut.forEach(function(suggest){if(suggest._id===action._id){suggest.outlier=true;}});return _objectSpread({},state,{suggests:listUpOut});default:return state;}};//*******************************************SUGGESTS*********************************************\n//LISTAR SUGGESTS\nexport var listSuggest=function listSuggest(idUrl,page,limit,type,fromDate,toDate){return function(dispatch){api.get(\"/adm/all-suggest/\".concat(idUrl,\"?page=\").concat(page,\"&limit=\").concat(limit,\"&type=\").concat(type,\"&fromDate=\").concat(fromDate,\"&toDate=\").concat(toDate)).then(function(Response){var _Response$data=Response.data,docs=_Response$data.docs,infos=_Response$data.infos;dispatch({type:ACTIONS.LIST_SUGGESTS,suggests:docs,infosSuggests:infos});}).catch(function(error){console.log(error);});};};//FAVORITAR SUGGEST\nexport var favorite=function favorite(suggest){return function(dispatch){api.put(\"/adm/suggest/\".concat(suggest._id),suggest).then(function(Response){dispatch({type:ACTIONS.FAVORITE,id:suggest._id});});};};//ARQUIVAR SUGGEST\nexport var outlier=function outlier(suggest){return function(dispatch){api.put(\"/adm/suggest/\".concat(suggest._id),suggest).then(function(Response){dispatch({type:ACTIONS.TOFILE,id:suggest._id});});};};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/suggestReducer.js"],"names":["api","history","ACTIONS","LIST_SUGGESTS","FAVORITE","TOFILE","INITIAL_STATE","suggests","suggestById","infosSuggests","suggestReducer","state","action","type","listUp","forEach","suggest","_id","favorite","listUpOut","outlier","listSuggest","idUrl","page","limit","fromDate","toDate","dispatch","get","then","Response","data","docs","infos","catch","error","console","log","put","id"],"mappings":"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","sourcesContent":["import api from '../services/api';\r\nimport history from '../services/history';\r\n\r\nconst ACTIONS = {\r\n  LIST_SUGGESTS: 'LISTSUGGESTS',\r\n  FAVORITE: 'FAVORITE',\r\n  TOFILE: 'TOFILE',\r\n}\r\nconst INITIAL_STATE = {\r\n  suggests: [],\r\n  suggestById: [],\r\n  infosSuggests: [],\r\n}\r\n\r\nexport const suggestReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    //*********************SUGGESTS*********************\r\n    case ACTIONS.LIST_SUGGESTS:\r\n      return {...state, suggests: action.suggests, infosSuggests: action.infosSuggests}\r\n    case ACTIONS.FAVORITE:\r\n      const listUp = [...state.suggests]\r\n      listUp.forEach(suggest => {\r\n        if(suggest._id === action._id){\r\n          suggest.favorite = true;\r\n        }\r\n      })\r\n      return {...state, suggests: listUp}\r\n    case ACTIONS.TOFILE:\r\n      const listUpOut = [...state.suggests]\r\n      listUpOut.forEach(suggest => {\r\n        if(suggest._id === action._id){\r\n          suggest.outlier = true;\r\n        }\r\n      })\r\n      return {...state, suggests: listUpOut}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//*******************************************SUGGESTS*********************************************\r\n//LISTAR SUGGESTS\r\nexport const listSuggest = (idUrl, page, limit, type, fromDate, toDate) => {\r\n  return dispatch => {\r\n    api.get(`/adm/all-suggest/${idUrl}?page=${page}&limit=${limit}&type=${type}&fromDate=${fromDate}&toDate=${toDate}`)\r\n    .then(Response => {\r\n      const { docs, infos } = Response.data;\r\n      dispatch({\r\n        type: ACTIONS.LIST_SUGGESTS,\r\n        suggests: docs,\r\n        infosSuggests: infos,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//FAVORITAR SUGGEST\r\nexport const favorite = (suggest) => {\r\n  return dispatch => {\r\n    api.put(`/adm/suggest/${suggest._id}`, suggest )\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.FAVORITE,\r\n        id: suggest._id\r\n      })\r\n    })\r\n  }\r\n}\r\n//ARQUIVAR SUGGEST\r\nexport const outlier = (suggest) => {\r\n  return dispatch => {\r\n    api.put(`/adm/suggest/${suggest._id}`, suggest )\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.TOFILE,\r\n        id: suggest._id\r\n      })\r\n    })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}