{"ast":null,"code":"import _slicedToArray from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import PropTypes from'prop-types';import{Link}from'react-router-dom';import{bindActionCreators}from'redux';import{connect}from'react-redux';import{listCompanies}from'../../../store/admReducer';import{makeStyles}from'@material-ui/core/styles';import Card from'@material-ui/core/Card';import Grid from'@material-ui/core/Grid';import CardActionArea from'@material-ui/core/CardActionArea';import CardContent from'@material-ui/core/CardContent';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import Box from'@material-ui/core/Box';import CardActions from'@material-ui/core/CardActions';import Pagination from'@material-ui/lab/Pagination';var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},item:{padding:theme.spacing(1),textAlign:'center',color:theme.palette.text.secondary},center:{justifyContent:'center',textAlign:'center',margin:'20px'},button:{margin:'15px'}};});var Companies=function Companies(props){var classes=useStyles();var companies=props.companies,infosCompanies=props.infosCompanies;var _useState=useState(window.location.href.split('/?')[1].split('?')[0]),_useState2=_slicedToArray(_useState,1),idUrl=_useState2[0];var nOfPages=infosCompanies.pages;var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),nOfItems=_useState6[0],setNoOfItems=_useState6[1];useEffect(function(){props.listCompanies(page,nOfItems);},[page,nOfItems]);var handleChange=function handleChange(event,value){setPage(value);};var handleNofItems=function handleNofItems(event){setNoOfItems(event.target.value);setPage(1);};var mapCompanies=/*#__PURE__*/React.createElement(React.Fragment,null,companies.map(function(company){return/*#__PURE__*/React.createElement(Grid,{key:company._id,item:true,md:4,sm:6,xs:12},/*#__PURE__*/React.createElement(\"div\",{className:classes.item},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardActionArea,{component:Link,to:\"/suggest/?\".concat(idUrl,\"/?\").concat(company._id,\"?page=\").concat(page,\"&limit=\").concat(nOfItems)},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{noWrap:true,variant:\"h5\",component:\"h2\"},company.name),/*#__PURE__*/React.createElement(Typography,{noWrap:true,variant:\"body2\",color:\"textSecondary\",component:\"p\"},company.address.city,\" - \",company.address.state))),/*#__PURE__*/React.createElement(CardActions,{className:classes.center},/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/suggest/?\".concat(idUrl,\"/?\").concat(company._id,\"?page=\").concat(page,\"&limit=\").concat(nOfItems),variant:\"contained\",color:\"primary\"},\"Gerenciar\")))));}));return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Typography,{className:classes.center,variant:\"h5\",component:\"h2\"},\"Estabelecimentos\"),/*#__PURE__*/React.createElement(Button,{className:classes.button,component:Link,to:\"/user/setup-company/?\".concat(idUrl),variant:\"contained\",color:\"primary\"},\"Adicionar Estabelecimento\"),/*#__PURE__*/React.createElement(Grid,{container:true,item:true,xs:12,spacing:3},mapCompanies),/*#__PURE__*/React.createElement(Grid,{className:classes.center,container:true,item:true,xs:12,spacing:3},/*#__PURE__*/React.createElement(Box,{component:\"span\"},/*#__PURE__*/React.createElement(Pagination,{count:nOfPages,page:page,onChange:handleChange}))));};Companies.prototypes={companies:PropTypes.array.isRequired,infosCompanies:PropTypes.array.isRequired};var mapStateToProps=function mapStateToProps(state){return{companies:state.adm.companies,infosCompanies:state.adm.infosCompanies};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({listCompanies:listCompanies},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(Companies);","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/pages/User/Companies/index.js"],"names":["React","useEffect","useState","PropTypes","Link","bindActionCreators","connect","listCompanies","makeStyles","Card","Grid","CardActionArea","CardContent","Typography","Button","Box","CardActions","Pagination","useStyles","theme","root","flexGrow","item","padding","spacing","textAlign","color","palette","text","secondary","center","justifyContent","margin","button","Companies","props","classes","companies","infosCompanies","window","location","href","split","idUrl","nOfPages","pages","page","setPage","nOfItems","setNoOfItems","handleChange","event","value","handleNofItems","target","mapCompanies","map","company","_id","name","address","city","state","prototypes","array","isRequired","mapStateToProps","adm","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { listCompanies } from '../../../store/admReducer' \r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\n\r\nconst useStyles = makeStyles((theme) =>({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  item: {\r\n    padding: theme.spacing(1),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  center: {\r\n    justifyContent: 'center',\r\n    textAlign: 'center',\r\n    margin: '20px'\r\n  },\r\n  button: {\r\n    margin: '15px'\r\n  }\r\n}));\r\n\r\nconst Companies = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const { companies, infosCompanies } = props;\r\n  const [ idUrl ] = useState(window.location.href.split('/?')[1].split('?')[0]);\r\n  const nOfPages = infosCompanies.pages;\r\n  const [page, setPage] = useState(1);\r\n  const [nOfItems, setNoOfItems] = useState(10);\r\n\r\n  useEffect(() => {\r\n    props.listCompanies(page, nOfItems);\r\n  },[page, nOfItems]);\r\n\r\n  const handleChange=(event, value)=>{\r\n    setPage(value);\r\n  }\r\n  const handleNofItems=(event)=>{\r\n    setNoOfItems(event.target.value);\r\n    setPage(1);\r\n  }\r\n\r\n  const mapCompanies = (\r\n    <React.Fragment>\r\n      {companies.map( company => {\r\n          return(\r\n            <Grid key={company._id} item md={4} sm={6} xs={12}>\r\n              <div className={classes.item}>  \r\n                <Card>\r\n                  <CardActionArea component={Link} to={`/suggest/?${idUrl}/?${company._id}?page=${page}&limit=${nOfItems}`}>\r\n                    <CardContent>\r\n                      <Typography noWrap variant=\"h5\" component=\"h2\">\r\n                        {company.name}\r\n                      </Typography>\r\n                      <Typography noWrap variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {company.address.city} - {company.address.state}\r\n                      </Typography>\r\n                    </CardContent>\r\n                  </CardActionArea>\r\n                  <CardActions className={classes.center}>\r\n                    <Button component={Link} to={`/suggest/?${idUrl}/?${company._id}?page=${page}&limit=${nOfItems}`} variant=\"contained\" color=\"primary\">\r\n                      Gerenciar\r\n                    </Button>\r\n                  </CardActions>\r\n                </Card>\r\n              </div>\r\n            </Grid>\r\n          )})\r\n        }\r\n    </React.Fragment>\r\n  )\r\n\r\n  return(\r\n    <div className={classes.root}>\r\n      <Typography className={classes.center} variant=\"h5\" component=\"h2\">Estabelecimentos</Typography>\r\n      <Button className={classes.button} component={Link} to={`/user/setup-company/?${idUrl}`} variant=\"contained\" color=\"primary\">\r\n        Adicionar Estabelecimento\r\n      </Button>\r\n      <Grid container item xs={12} spacing={3}>\r\n        {mapCompanies}\r\n      </Grid>\r\n      <Grid className={classes.center} container item xs={12} spacing={3}>\r\n        <Box component=\"span\">\r\n          <Pagination\r\n            count={nOfPages}\r\n            page={page}\r\n            onChange={handleChange}\r\n          />\r\n        </Box>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nCompanies.prototypes = {\r\n  companies: PropTypes.array.isRequired,\r\n  infosCompanies: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  companies: state.adm.companies,\r\n  infosCompanies: state.adm.infosCompanies,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators({listCompanies}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Companies);"]},"metadata":{},"sourceType":"module"}