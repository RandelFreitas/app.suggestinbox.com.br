{"ast":null,"code":"import _objectSpread from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import api from'../services/api';import history from\"../services/history\";var ACTIONS={INFOS:'INFOS',ADD:'ADD_SUGGEST'};var INITIAL_STATE={infos:[],suggest:[]};export var clientReducer=function clientReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.INFOS:return _objectSpread({},state,{infos:action.infos});case ACTIONS.ADD:return _objectSpread({},state,{suggest:action.suggest});default:return state;}};//OBTER INFOS DA COMPANIA\nexport var getInfo=function getInfo(id){return function(dispatch){api.get(\"/client/company/\".concat(id)).then(function(Response){dispatch({type:ACTIONS.INFOS,infos:Response.data});}).catch(function(error){console.log(error);});};};//ENVIAR SUGGEST\nexport var submitSuggest=function submitSuggest(suggest){if(suggest.recommends==='y'){suggest.recommends=true;}else{suggest.recommends=false;}return function(dispatch){api.post(\"/client/company/\".concat(suggest.companyId),suggest).then(function(Response){dispatch({type:ACTIONS.ADD,suggest:Response.data});},history.push(\"/client/opiniao/sucesso/?\".concat(suggest.companyId))).catch(function(error){console.log(error);});};};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/clientReducer.js"],"names":["api","history","ACTIONS","INFOS","ADD","INITIAL_STATE","infos","suggest","clientReducer","state","action","type","getInfo","id","dispatch","get","then","Response","data","catch","error","console","log","submitSuggest","recommends","post","companyId","push"],"mappings":"0LAAA,MAAOA,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CAEA,GAAMC,CAAAA,OAAO,CAAG,CACdC,KAAK,CAAE,OADO,CAEdC,GAAG,CAAE,aAFS,CAAhB,CAIA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,KAAK,CAAC,EADc,CAEpBC,OAAO,CAAC,EAFY,CAAtB,CAIA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAmC,IAAlCC,CAAAA,KAAkC,2DAA1BJ,aAA0B,IAAXK,CAAAA,MAAW,2CAC9D,OAAOA,MAAM,CAACC,IAAd,EACE,IAAKT,CAAAA,OAAO,CAACC,KAAb,CACE,wBAAWM,KAAX,EAAkBH,KAAK,CAAEI,MAAM,CAACJ,KAAhC,GACF,IAAKJ,CAAAA,OAAO,CAACE,GAAb,CACE,wBAAWK,KAAX,EAAkBF,OAAO,CAAEG,MAAM,CAACH,OAAlC,GACF,QACE,MAAOE,CAAAA,KAAP,CANJ,CAQD,CATM,CAUP;AACA,MAAO,IAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,EAAD,CAAQ,CAC7B,MAAO,UAAAC,QAAQ,CAAI,CACjBd,GAAG,CAACe,GAAJ,2BAA2BF,EAA3B,GACCG,IADD,CACM,SAAAC,QAAQ,CAAI,CAChBH,QAAQ,CAAC,CACPH,IAAI,CAAET,OAAO,CAACC,KADP,CAEPG,KAAK,CAAEW,QAAQ,CAACC,IAFT,CAAD,CAAR,CAID,CAND,EAOCC,KAPD,CAOO,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATD,EAUD,CAXD,CAYD,CAbM,CAcP;AACA,MAAO,IAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAChB,OAAD,CAAa,CACxC,GAAGA,OAAO,CAACiB,UAAR,GAAuB,GAA1B,CAA8B,CAC5BjB,OAAO,CAACiB,UAAR,CAAqB,IAArB,CACD,CAFD,IAEK,CACHjB,OAAO,CAACiB,UAAR,CAAqB,KAArB,CACD,CACD,MAAO,UAAAV,QAAQ,CAAI,CACjBd,GAAG,CAACyB,IAAJ,2BAA4BlB,OAAO,CAACmB,SAApC,EAAiDnB,OAAjD,EACCS,IADD,CACM,SAAAC,QAAQ,CAAI,CAChBH,QAAQ,CAAC,CACPH,IAAI,CAAET,OAAO,CAACE,GADP,CAEPG,OAAO,CAAEU,QAAQ,CAACC,IAFX,CAAD,CAAR,CAID,CAND,CAMGjB,OAAO,CAAC0B,IAAR,oCAAyCpB,OAAO,CAACmB,SAAjD,EANH,EAOCP,KAPD,CAOO,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATD,EAUD,CAXD,CAYD,CAlBM","sourcesContent":["import api from '../services/api';\r\nimport history from \"../services/history\";\r\n\r\nconst ACTIONS = {\r\n  INFOS: 'INFOS',\r\n  ADD: 'ADD_SUGGEST'\r\n}\r\nconst INITIAL_STATE = {\r\n  infos:[],\r\n  suggest:[]\r\n}\r\nexport const clientReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.INFOS:\r\n      return {...state, infos: action.infos}\r\n    case ACTIONS.ADD:\r\n      return {...state, suggest: action.suggest}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//OBTER INFOS DA COMPANIA\r\nexport const getInfo = (id) => {\r\n  return dispatch => {\r\n    api.get(`/client/company/${id}`)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.INFOS,\r\n        infos: Response.data,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//ENVIAR SUGGEST\r\nexport const submitSuggest = (suggest) => {\r\n  if(suggest.recommends === 'y'){\r\n    suggest.recommends = true;\r\n  }else{\r\n    suggest.recommends = false;\r\n  }\r\n  return dispatch => {\r\n    api.post(`/client/company/${suggest.companyId}`, suggest)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.ADD,\r\n        suggest: Response.data,\r\n      });\r\n    }, history.push(`/client/opiniao/sucesso/?${suggest.companyId}`))\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}