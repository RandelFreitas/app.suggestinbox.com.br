{"ast":null,"code":"var _jsxFileName = \"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\src\\\\pages\\\\User\\\\Suggest\\\\Suggests\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { listSuggest, favorite, outlier } from '../../../../store/suggestReducer';\nimport { atvCompany } from '../../../../store/companyReducer';\nimport { parseISO } from 'date-fns';\nimport { format } from 'date-fns-tz';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport { ptBR } from \"date-fns/locale\";\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Box from '@material-ui/core/Box';\nimport Pagination from '@material-ui/lab/Pagination';\nimport Typography from '@material-ui/core/Typography';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport Rating from '@material-ui/lab/Rating';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from '@material-ui/icons/Check';\nimport Switch from \"@material-ui/core/Switch\";\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nconst theme = createMuiTheme({\n  palette: {\n    secondary: {\n      main: '#FFB701'\n    }\n  }\n});\nconst useStyles = makeStyles(theme => ({\n  center: {\n    justifyContent: 'center',\n    textAlign: 'center',\n    margin: '20px'\n  },\n  filter: {\n    minWidth: '110px',\n    marginLeft: '9px'\n  },\n  data: {\n    margin: '9px',\n    maxWidth: '140px'\n  },\n  hide: {\n    display: 'none'\n  },\n  buttonAtv: {\n    margin: '15px 0'\n  }\n}));\n\nconst Suggest = props => {\n  const classes = useStyles();\n  const [idCompany] = useState(window.location.href.split('/?')[2].split('?')[0]);\n  const {\n    suggests,\n    infosSuggests,\n    companyById\n  } = props;\n  const pages = infosSuggests.pages;\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(25);\n  const [typeSuggests, setTypeSuggests] = useState('All');\n  const [selectedDateFrom, setSelectedDateFrom] = useState(new Date('2020-01-01T00:00:00'));\n  const [selectedDateTo, setSelectedDateTo] = useState(Date.now);\n  const [suggestAtv, setSuggestAtv] = useState({\n    check: false\n  });\n  useEffect(() => {\n    props.listSuggest(idCompany, page, limit, typeSuggests, selectedDateFrom, selectedDateTo);\n  }, []);\n  useEffect(() => {\n    setSuggestAtv({\n      check: companyById.suggest\n    });\n  }, [companyById.suggest]);\n\n  const handleChangePage = (event, value) => {\n    setPage(value);\n    props.listSuggest(idCompany, value, limit, typeSuggests, selectedDateFrom, selectedDateTo);\n  };\n\n  const handleLimit = event => {\n    setLimit(event.target.value);\n    props.listSuggest(idCompany, page, event.target.value, typeSuggests, selectedDateFrom, selectedDateTo);\n    setPage(1);\n  };\n\n  const handleChangSuggest = event => {\n    setTypeSuggests(event.target.value);\n    props.listSuggest(idCompany, page, limit, event.target.value, selectedDateFrom, selectedDateTo);\n  };\n\n  const handleDateChangeFrom = date => {\n    setSelectedDateFrom(date);\n    console.log(date);\n  };\n\n  const handleDateChangeTo = date => {\n    setSelectedDateTo(date);\n    props.listSuggest(idCompany, page, limit, typeSuggests, selectedDateFrom, date);\n  }; //FAV E ARQ\n\n\n  const favoriteUpdate = suggest => {\n    if (suggest.favorite) {\n      suggest.favorite = false;\n      return props.favorite(suggest);\n    } else {\n      suggest.favorite = true;\n      return props.favorite(suggest);\n    }\n  };\n\n  const outlierUpdate = suggest => {\n    if (suggest.outlier) {\n      suggest.outlier = false;\n      return props.outlier(suggest);\n    } else {\n      suggest.outlier = true;\n      return props.outlier(suggest);\n    }\n  };\n\n  const atvSuggest = companyById => {\n    if (companyById.suggest) {\n      companyById.suggest = false;\n      setSuggestAtv({\n        check: companyById.suggest\n      });\n      console.log(\"if\");\n      return props.atvCompany(companyById);\n    } else {\n      companyById.suggest = true;\n      setSuggestAtv({\n        check: companyById.suggest\n      });\n      console.log(\"else\");\n      return props.atvCompany(companyById);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, \"Sugest\\xF5es\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: suggestAtv.check ? classes.buttonAtv : classes.hide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Switch, {\n      checked: suggestAtv.check ? suggestAtv.check : false,\n      onClick: () => atvSuggest(companyById),\n      name: \"checkedA\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }),\n    label: \"Ativar/Desativar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(FormControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"N\\xFAmero por p\\xE1gina:\"), /*#__PURE__*/React.createElement(Select, {\n    value: limit,\n    onChange: handleLimit,\n    inputProps: {\n      'aria-label': 'Without label'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, \"25\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 50,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, \"50\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 75,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, \"75\"))), /*#__PURE__*/React.createElement(FormControl, {\n    className: classes.filter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, \"Filtrar por:\"), /*#__PURE__*/React.createElement(Select, {\n    value: typeSuggests,\n    onChange: handleChangSuggest,\n    inputProps: {\n      'aria-label': 'Without label'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'All',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, \"Todas\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'Fav',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, \"Favoritas\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'Arq',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, \"Arquivadas\"))), /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    locale: ptBR,\n    utils: DateFnsUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n    className: classes.data,\n    disableToolbar: true,\n    variant: \"inline\",\n    format: \"dd/MM/yyyy\",\n    margin: \"normal\",\n    id: \"date-picker-inline\",\n    label: \"De\",\n    size: \"small\",\n    invalidDateMessage: \"Data inv\\xE1lida.\",\n    value: selectedDateFrom,\n    onChange: handleDateChangeFrom,\n    KeyboardButtonProps: {\n      'aria-label': 'change date'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n    className: classes.data,\n    disableToolbar: true,\n    variant: \"inline\",\n    format: \"dd/MM/yyyy\",\n    margin: \"normal\",\n    id: \"date-picker-dialog\",\n    label: \"At\\xE9\",\n    size: \"small\",\n    invalidDateMessage: \"Data inv\\xE1lida.\",\n    value: selectedDateTo,\n    onChange: handleDateChangeTo,\n    KeyboardButtonProps: {\n      'aria-label': 'change date'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Paper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    stickyHeader: true,\n    \"aria-label\": \"sticky table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }, \"Data\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 17\n    }\n  }, \"Telefone\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 17\n    }\n  }, \"Avalia\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }, \"Recomenda\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, \"Opini\\xE3o\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  }, suggests.map(suggest => {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      hover: true,\n      key: suggest._id,\n      role: \"checkbox\",\n      tabIndex: -1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 23\n      }\n    }, format(parseISO(suggest.createdAt), 'dd/MM/yyyy HH:mm', {\n      timeZone: 'America/Sao_Paulo'\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 23\n      }\n    }, suggest.name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 23\n      }\n    }, suggest.phone), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Rating, {\n      name: \"read-only\",\n      size: \"small\",\n      value: suggest.stars ? suggest.stars : 0,\n      precision: 0.5,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 23\n      }\n    }, suggest.recommends ? /*#__PURE__*/React.createElement(CheckIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 71\n      }\n    }) : /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 88\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 23\n      }\n    }, suggest.opinion), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => favoriteUpdate(suggest),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 25\n      }\n    }, suggest.favorite ? /*#__PURE__*/React.createElement(StarIcon, {\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 47\n      }\n    }) : /*#__PURE__*/React.createElement(StarBorderIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 79\n      }\n    }))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => outlierUpdate(suggest),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 25\n      }\n    }, suggest.outlier ? /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n      color: \"disabled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 46\n      }\n    }) : /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 86\n      }\n    }))));\n  }))))), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.center,\n    container: true,\n    item: true,\n    xs: 12,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    count: pages,\n    page: page,\n    onChange: handleChangePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  })))));\n};\n\nSuggest.prototypes = {\n  suggest: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  companyById: state.company.companyById,\n  suggests: state.suggest.suggests,\n  infosSuggests: state.suggest.infosSuggests\n});\n\nconst mapsDispatchToProps = dispatch => bindActionCreators({\n  listSuggest,\n  favorite,\n  outlier,\n  atvCompany\n}, dispatch);\n\nexport default connect(mapStateToProps, mapsDispatchToProps)(Suggest);","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/pages/User/Suggest/Suggests/index.js"],"names":["React","useState","useEffect","PropTypes","bindActionCreators","connect","listSuggest","favorite","outlier","atvCompany","parseISO","format","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","ptBR","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","MenuItem","FormControl","Select","FormHelperText","Box","Pagination","Typography","StarIcon","StarBorderIcon","DeleteOutlineIcon","Rating","makeStyles","Grid","MuiThemeProvider","createMuiTheme","IconButton","CloseIcon","CheckIcon","Switch","FormGroup","FormControlLabel","theme","palette","secondary","main","useStyles","center","justifyContent","textAlign","margin","filter","minWidth","marginLeft","data","maxWidth","hide","display","buttonAtv","Suggest","props","classes","idCompany","window","location","href","split","suggests","infosSuggests","companyById","pages","page","setPage","limit","setLimit","typeSuggests","setTypeSuggests","selectedDateFrom","setSelectedDateFrom","Date","selectedDateTo","setSelectedDateTo","now","suggestAtv","setSuggestAtv","check","suggest","handleChangePage","event","value","handleLimit","target","handleChangSuggest","handleDateChangeFrom","date","console","log","handleDateChangeTo","favoriteUpdate","outlierUpdate","atvSuggest","map","_id","createdAt","timeZone","name","phone","stars","recommends","opinion","prototypes","array","isRequired","mapStateToProps","state","company","mapsDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,EAAsBC,QAAtB,EAAgCC,OAAhC,QAA+C,kCAA/C;AACA,SAASC,UAAT,QAA2B,kCAA3B;AACA,SAASC,QAAT,QAAyB,UAAzB;AACA,SAASC,MAAT,QAAuB,aAAvB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,SAASC,uBAAT,EAAkCC,kBAAlC,QAA4D,sBAA5D;AACA,SAASC,IAAT,QAAqB,iBAArB;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,SAASC,gBAAT,EAA2BC,cAA3B,QAAiD,0BAAjD;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AAEA,MAAMC,KAAK,GAAGP,cAAc,CAAC;AAC3BQ,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAC;AACRC,MAAAA,IAAI,EAAE;AADE;AADH;AADkB,CAAD,CAA5B;AAQA,MAAMC,SAAS,GAAGd,UAAU,CAAEU,KAAD,KAAW;AACtCK,EAAAA,MAAM,EAAE;AACNC,IAAAA,cAAc,EAAE,QADV;AAENC,IAAAA,SAAS,EAAE,QAFL;AAGNC,IAAAA,MAAM,EAAE;AAHF,GAD8B;AAMtCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,QAAQ,EAAE,OADJ;AAENC,IAAAA,UAAU,EAAE;AAFN,GAN8B;AAUtCC,EAAAA,IAAI,EAAE;AACJJ,IAAAA,MAAM,EAAE,KADJ;AAEJK,IAAAA,QAAQ,EAAE;AAFN,GAVgC;AActCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE;AADL,GAdgC;AAiBtCC,EAAAA,SAAS,EAAE;AACTR,IAAAA,MAAM,EAAE;AADC;AAjB2B,CAAX,CAAD,CAA5B;;AAsBA,MAAMS,OAAO,GAAIC,KAAD,IAAW;AACzB,QAAMC,OAAO,GAAGf,SAAS,EAAzB;AACA,QAAM,CAAEgB,SAAF,IAAgB/D,QAAQ,CAACgE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,IAA3B,EAAiC,CAAjC,EAAoCA,KAApC,CAA0C,GAA1C,EAA+C,CAA/C,CAAD,CAA9B;AACA,QAAM;AAACC,IAAAA,QAAD;AAAWC,IAAAA,aAAX;AAA0BC,IAAAA;AAA1B,MAAyCT,KAA/C;AACA,QAAMU,KAAK,GAAGF,aAAa,CAACE,KAA5B;AAEA,QAAM,CAAEC,IAAF,EAAQC,OAAR,IAAoBzE,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAAE0E,KAAF,EAASC,QAAT,IAAsB3E,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC4E,YAAD,EAAeC,eAAf,IAAkC7E,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAAC8E,gBAAD,EAAmBC,mBAAnB,IAA0C/E,QAAQ,CAAC,IAAIgF,IAAJ,CAAS,qBAAT,CAAD,CAAxD;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsClF,QAAQ,CAACgF,IAAI,CAACG,GAAN,CAApD;AAEA,QAAM,CAAEC,UAAF,EAAcC,aAAd,IAAgCrF,QAAQ,CAAC;AAC7CsF,IAAAA,KAAK,EAAE;AADsC,GAAD,CAA9C;AAIArF,EAAAA,SAAS,CAAC,MAAM;AACd4D,IAAAA,KAAK,CAACxD,WAAN,CAAkB0D,SAAlB,EAA6BS,IAA7B,EAAmCE,KAAnC,EAA0CE,YAA1C,EAAwDE,gBAAxD,EAA0EG,cAA1E;AACD,GAFQ,EAEP,EAFO,CAAT;AAIAhF,EAAAA,SAAS,CAAC,MAAM;AACdoF,IAAAA,aAAa,CAAC;AAACC,MAAAA,KAAK,EAAEhB,WAAW,CAACiB;AAApB,KAAD,CAAb;AACD,GAFQ,EAEP,CAACjB,WAAW,CAACiB,OAAb,CAFO,CAAT;;AAIA,QAAMC,gBAAgB,GAAC,CAACC,KAAD,EAAQC,KAAR,KAAgB;AACrCjB,IAAAA,OAAO,CAACiB,KAAD,CAAP;AACA7B,IAAAA,KAAK,CAACxD,WAAN,CAAkB0D,SAAlB,EAA6B2B,KAA7B,EAAoChB,KAApC,EAA2CE,YAA3C,EAAyDE,gBAAzD,EAA2EG,cAA3E;AACD,GAHD;;AAIA,QAAMU,WAAW,GAAEF,KAAD,IAAS;AACzBd,IAAAA,QAAQ,CAACc,KAAK,CAACG,MAAN,CAAaF,KAAd,CAAR;AACA7B,IAAAA,KAAK,CAACxD,WAAN,CAAkB0D,SAAlB,EAA6BS,IAA7B,EAAmCiB,KAAK,CAACG,MAAN,CAAaF,KAAhD,EAAuDd,YAAvD,EAAqEE,gBAArE,EAAuFG,cAAvF;AACAR,IAAAA,OAAO,CAAC,CAAD,CAAP;AACD,GAJD;;AAKA,QAAMoB,kBAAkB,GAAEJ,KAAD,IAAS;AAChCZ,IAAAA,eAAe,CAACY,KAAK,CAACG,MAAN,CAAaF,KAAd,CAAf;AACA7B,IAAAA,KAAK,CAACxD,WAAN,CAAkB0D,SAAlB,EAA6BS,IAA7B,EAAmCE,KAAnC,EAA0Ce,KAAK,CAACG,MAAN,CAAaF,KAAvD,EAA8DZ,gBAA9D,EAAgFG,cAAhF;AACD,GAHD;;AAIA,QAAMa,oBAAoB,GAAIC,IAAD,IAAU;AACrChB,IAAAA,mBAAmB,CAACgB,IAAD,CAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,GAHD;;AAIA,QAAMG,kBAAkB,GAAIH,IAAD,IAAU;AACnCb,IAAAA,iBAAiB,CAACa,IAAD,CAAjB;AACAlC,IAAAA,KAAK,CAACxD,WAAN,CAAkB0D,SAAlB,EAA6BS,IAA7B,EAAmCE,KAAnC,EAA0CE,YAA1C,EAAwDE,gBAAxD,EAA0EiB,IAA1E;AACD,GAHD,CAzCyB,CA8CzB;;;AACA,QAAMI,cAAc,GAAIZ,OAAD,IAAa;AAClC,QAAGA,OAAO,CAACjF,QAAX,EAAoB;AAClBiF,MAAAA,OAAO,CAACjF,QAAR,GAAmB,KAAnB;AACA,aAAOuD,KAAK,CAACvD,QAAN,CAAeiF,OAAf,CAAP;AACD,KAHD,MAGK;AACHA,MAAAA,OAAO,CAACjF,QAAR,GAAmB,IAAnB;AACA,aAAOuD,KAAK,CAACvD,QAAN,CAAeiF,OAAf,CAAP;AACD;AACF,GARD;;AASA,QAAMa,aAAa,GAAIb,OAAD,IAAa;AACjC,QAAGA,OAAO,CAAChF,OAAX,EAAmB;AACjBgF,MAAAA,OAAO,CAAChF,OAAR,GAAkB,KAAlB;AACA,aAAOsD,KAAK,CAACtD,OAAN,CAAcgF,OAAd,CAAP;AACD,KAHD,MAGK;AACHA,MAAAA,OAAO,CAAChF,OAAR,GAAkB,IAAlB;AACA,aAAOsD,KAAK,CAACtD,OAAN,CAAcgF,OAAd,CAAP;AACD;AACF,GARD;;AAUA,QAAMc,UAAU,GAAI/B,WAAD,IAAiB;AAClC,QAAGA,WAAW,CAACiB,OAAf,EAAuB;AACrBjB,MAAAA,WAAW,CAACiB,OAAZ,GAAsB,KAAtB;AACAF,MAAAA,aAAa,CAAC;AAACC,QAAAA,KAAK,EAAEhB,WAAW,CAACiB;AAApB,OAAD,CAAb;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,aAAOpC,KAAK,CAACrD,UAAN,CAAiB8D,WAAjB,CAAP;AACD,KALD,MAKK;AACHA,MAAAA,WAAW,CAACiB,OAAZ,GAAsB,IAAtB;AACAF,MAAAA,aAAa,CAAC;AAACC,QAAAA,KAAK,EAAEhB,WAAW,CAACiB;AAApB,OAAD,CAAb;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,aAAOpC,KAAK,CAACrD,UAAN,CAAiB8D,WAAjB,CAAP;AACD;AACF,GAZD;;AAcA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAyB,IAAA,SAAS,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,SAAS,EAAEc,UAAU,CAACE,KAAX,GAAkBxB,OAAO,CAACH,SAA1B,GAAqCG,OAAO,CAACL,IAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,gBAAD;AACE,IAAA,OAAO,eACL,oBAAC,MAAD;AACE,MAAA,OAAO,EAAE2B,UAAU,CAACE,KAAX,GAAkBF,UAAU,CAACE,KAA7B,GAAoC,KAD/C;AAEE,MAAA,OAAO,EAAE,MAAIe,UAAU,CAAC/B,WAAD,CAFzB;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,KAAK,EAAC,SAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ;AASE,IAAA,KAAK,EAAC,kBATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADF,CADF,CADD,eAkBC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAEE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAEI,KADT;AAEE,IAAA,QAAQ,EAAEiB,WAFZ;AAGE,IAAA,UAAU,EAAE;AAAE,oBAAc;AAAhB,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,eAKE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALF,eAME,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UANF,CAFF,CAlBD,eA6BC,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAE7B,OAAO,CAACV,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAEwB,YADT;AAEE,IAAA,QAAQ,EAAEiB,kBAFZ;AAGE,IAAA,UAAU,EAAE;AAAE,oBAAc;AAAhB,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,eAKE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,eAME,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,CAFF,CA7BD,eAwCC,oBAAC,uBAAD;AAAyB,IAAA,MAAM,EAAE/E,IAAjC;AAAuC,IAAA,KAAK,EAAEH,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,kBAAD;AACE,IAAA,SAAS,EAAEmD,OAAO,CAACP,IADrB;AAEE,IAAA,cAAc,MAFhB;AAGE,IAAA,OAAO,EAAC,QAHV;AAIE,IAAA,MAAM,EAAC,YAJT;AAKE,IAAA,MAAM,EAAC,QALT;AAME,IAAA,EAAE,EAAC,oBANL;AAOE,IAAA,KAAK,EAAC,IAPR;AAQE,IAAA,IAAI,EAAC,OARP;AASE,IAAA,kBAAkB,EAAC,mBATrB;AAUE,IAAA,KAAK,EAAEuB,gBAVT;AAWE,IAAA,QAAQ,EAAEgB,oBAXZ;AAYE,IAAA,mBAAmB,EAAE;AACnB,oBAAc;AADK,KAZvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAiBE,oBAAC,kBAAD;AACE,IAAA,SAAS,EAAEhC,OAAO,CAACP,IADrB;AAEE,IAAA,cAAc,MAFhB;AAGE,IAAA,OAAO,EAAC,QAHV;AAIE,IAAA,MAAM,EAAC,YAJT;AAKE,IAAA,MAAM,EAAC,QALT;AAME,IAAA,EAAE,EAAC,oBANL;AAOE,IAAA,KAAK,EAAC,QAPR;AAQE,IAAA,IAAI,EAAC,OARP;AASE,IAAA,kBAAkB,EAAC,mBATrB;AAUE,IAAA,KAAK,EAAE0B,cAVT;AAWE,IAAA,QAAQ,EAAEiB,kBAXZ;AAYE,IAAA,mBAAmB,EAAE;AACnB,oBAAc;AADK,KAZvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,CAxCD,CAFH,eA6EE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,YAAY,MAAnB;AAAoB,kBAAW,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJF,eAKE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,eAME,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,eAOE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAQE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF,CADF,eAaE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAEvD,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIyB,QAAQ,CAACkC,GAAT,CAAcf,OAAO,IAAI;AACzB,wBACE,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,GAAG,EAAEA,OAAO,CAACgB,GAA7B;AAAkC,MAAA,IAAI,EAAC,UAAvC;AAAkD,MAAA,QAAQ,EAAE,CAAC,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B7F,MAAM,CAACD,QAAQ,CAAC8E,OAAO,CAACiB,SAAT,CAAT,EAA8B,kBAA9B,EAAkD;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAlD,CAAjC,CADF,eAEE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BlB,OAAO,CAACmB,IAAnC,CAFF,eAGE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BnB,OAAO,CAACoB,KAAnC,CAHF,eAIE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,WAAb;AAAyB,MAAA,IAAI,EAAC,OAA9B;AAAsC,MAAA,KAAK,EAAEpB,OAAO,CAACqB,KAAR,GAAerB,OAAO,CAACqB,KAAvB,GAA8B,CAA3E;AAA8E,MAAA,SAAS,EAAE,GAAzF;AAA8F,MAAA,QAAQ,MAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,eAOE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BrB,OAAO,CAACsB,UAAR,gBAAqB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArB,gBAAsC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjE,CAPF,eAQE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BtB,OAAO,CAACuB,OAAnC,CARF,eASE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,MAAMX,cAAc,CAACZ,OAAD,CAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,OAAO,CAACjF,QAAR,gBAAmB,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnB,gBAAmD,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADtD,CADF,CATF,eAcE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,MAAM8F,aAAa,CAACb,OAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,OAAO,CAAChF,OAAR,gBAAkB,oBAAC,iBAAD;AAAmB,MAAA,KAAK,EAAC,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlB,gBAA0D,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD7D,CADF,CAdF,CADF;AAsBD,GAvBC,CADJ,CADF,CAbF,CADF,CADF,eA6CE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAEuD,OAAO,CAACd,MAAzB;AAAiC,IAAA,SAAS,MAA1C;AAA2C,IAAA,IAAI,MAA/C;AAAgD,IAAA,EAAE,EAAE,EAApD;AAAwD,IAAA,OAAO,EAAE,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAEuB,KADT;AAEE,IAAA,IAAI,EAAEC,IAFR;AAGE,IAAA,QAAQ,EAAEgB,gBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CA7CF,CA7EF,CADF;AAuID,CAvND;;AAyNA5B,OAAO,CAACmD,UAAR,GAAqB;AACnBxB,EAAAA,OAAO,EAAErF,SAAS,CAAC8G,KAAV,CAAgBC;AADN,CAArB;;AAIA,MAAMC,eAAe,GAAGC,KAAK,KAAK;AAChC7C,EAAAA,WAAW,EAAE6C,KAAK,CAACC,OAAN,CAAc9C,WADK;AAEhCF,EAAAA,QAAQ,EAAE+C,KAAK,CAAC5B,OAAN,CAAcnB,QAFQ;AAGhCC,EAAAA,aAAa,EAAE8C,KAAK,CAAC5B,OAAN,CAAclB;AAHG,CAAL,CAA7B;;AAMA,MAAMgD,mBAAmB,GAAGC,QAAQ,IAClCnH,kBAAkB,CAAC;AAACE,EAAAA,WAAD;AAAcC,EAAAA,QAAd;AAAwBC,EAAAA,OAAxB;AAAiCC,EAAAA;AAAjC,CAAD,EAA+C8G,QAA/C,CADpB;;AAGA,eAAelH,OAAO,CAAC8G,eAAD,EAAkBG,mBAAlB,CAAP,CAA8CzD,OAA9C,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { listSuggest, favorite, outlier } from '../../../../store/suggestReducer';\r\nimport { atvCompany } from '../../../../store/companyReducer';\r\nimport { parseISO } from 'date-fns';\r\nimport { format } from 'date-fns-tz';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\nimport { ptBR } from \"date-fns/locale\";\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Box from '@material-ui/core/Box';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport { IconButton } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    secondary:{\r\n      main: '#FFB701'\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles((theme) =>({\r\n  center: {\r\n    justifyContent: 'center',\r\n    textAlign: 'center',\r\n    margin: '20px'\r\n  },\r\n  filter: {\r\n    minWidth: '110px',\r\n    marginLeft: '9px'\r\n  },\r\n  data: {\r\n    margin: '9px',\r\n    maxWidth: '140px'\r\n  },\r\n  hide: {\r\n    display: 'none'\r\n  },\r\n  buttonAtv: {\r\n    margin: '15px 0'\r\n  }\r\n}));\r\n\r\nconst Suggest = (props) => {\r\n  const classes = useStyles();\r\n  const [ idCompany ] = useState(window.location.href.split('/?')[2].split('?')[0]);\r\n  const {suggests, infosSuggests, companyById} = props;\r\n  const pages = infosSuggests.pages;\r\n  \r\n  const [ page, setPage ] = useState(1);\r\n  const [ limit, setLimit ] = useState(25);\r\n  const [typeSuggests, setTypeSuggests] = useState('All');\r\n  const [selectedDateFrom, setSelectedDateFrom] = useState(new Date('2020-01-01T00:00:00'));\r\n  const [selectedDateTo, setSelectedDateTo] = useState(Date.now);\r\n\r\n  const [ suggestAtv, setSuggestAtv ] = useState({\r\n    check: false\r\n  });\r\n  \r\n  useEffect(() => {\r\n    props.listSuggest(idCompany, page, limit, typeSuggests, selectedDateFrom, selectedDateTo);\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    setSuggestAtv({check: companyById.suggest});\r\n  },[companyById.suggest])\r\n\r\n  const handleChangePage=(event, value)=>{\r\n    setPage(value);\r\n    props.listSuggest(idCompany, value, limit, typeSuggests, selectedDateFrom, selectedDateTo);\r\n  }\r\n  const handleLimit=(event)=>{\r\n    setLimit(event.target.value);\r\n    props.listSuggest(idCompany, page, event.target.value, typeSuggests, selectedDateFrom, selectedDateTo);\r\n    setPage(1);\r\n  }\r\n  const handleChangSuggest=(event)=>{\r\n    setTypeSuggests(event.target.value);\r\n    props.listSuggest(idCompany, page, limit, event.target.value, selectedDateFrom, selectedDateTo);\r\n  }\r\n  const handleDateChangeFrom = (date) => {\r\n    setSelectedDateFrom(date);\r\n    console.log(date);\r\n  };\r\n  const handleDateChangeTo = (date) => {\r\n    setSelectedDateTo(date);\r\n    props.listSuggest(idCompany, page, limit, typeSuggests, selectedDateFrom, date);\r\n  };\r\n\r\n  //FAV E ARQ\r\n  const favoriteUpdate = (suggest) => {\r\n    if(suggest.favorite){\r\n      suggest.favorite = false;\r\n      return props.favorite(suggest)\r\n    }else{\r\n      suggest.favorite = true;\r\n      return props.favorite(suggest)\r\n    }\r\n  }\r\n  const outlierUpdate = (suggest) => {\r\n    if(suggest.outlier){\r\n      suggest.outlier = false;\r\n      return props.outlier(suggest)\r\n    }else{\r\n      suggest.outlier = true;\r\n      return props.outlier(suggest)\r\n    }\r\n  }\r\n\r\n  const atvSuggest = (companyById) => {\r\n    if(companyById.suggest){\r\n      companyById.suggest = false;\r\n      setSuggestAtv({check: companyById.suggest});\r\n      console.log(\"if\")\r\n      return props.atvCompany(companyById);\r\n    }else{\r\n      companyById.suggest = true;\r\n      setSuggestAtv({check: companyById.suggest});\r\n      console.log(\"else\")\r\n      return props.atvCompany(companyById);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h5\" component=\"h2\">Sugestões</Typography>\r\n       <div>\r\n        <Grid container>\r\n          <Grid item className={suggestAtv.check? classes.buttonAtv: classes.hide}>\r\n            <FormGroup row>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={suggestAtv.check? suggestAtv.check: false}\r\n                  onClick={()=>atvSuggest(companyById)}\r\n                  name=\"checkedA\"\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"Ativar/Desativar\"\r\n            />\r\n            </FormGroup>\r\n          </Grid>\r\n        </Grid>\r\n        <FormControl>\r\n          <FormHelperText>Número por página:</FormHelperText>\r\n          <Select\r\n            value={limit}\r\n            onChange={handleLimit}\r\n            inputProps={{ 'aria-label': 'Without label' }}>\r\n            <MenuItem value={25}>25</MenuItem>\r\n            <MenuItem value={50}>50</MenuItem>\r\n            <MenuItem value={75}>75</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl className={classes.filter}>\r\n          <FormHelperText>Filtrar por:</FormHelperText>\r\n          <Select\r\n            value={typeSuggests}\r\n            onChange={handleChangSuggest}\r\n            inputProps={{ 'aria-label': 'Without label' }}>\r\n            <MenuItem value={'All'}>Todas</MenuItem>\r\n            <MenuItem value={'Fav'}>Favoritas</MenuItem>\r\n            <MenuItem value={'Arq'}>Arquivadas</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        <MuiPickersUtilsProvider locale={ptBR} utils={DateFnsUtils}>\r\n          <KeyboardDatePicker\r\n            className={classes.data}\r\n            disableToolbar\r\n            variant=\"inline\"\r\n            format=\"dd/MM/yyyy\"\r\n            margin=\"normal\"\r\n            id=\"date-picker-inline\"\r\n            label=\"De\"\r\n            size=\"small\"\r\n            invalidDateMessage=\"Data inválida.\"\r\n            value={selectedDateFrom}\r\n            onChange={handleDateChangeFrom}\r\n            KeyboardButtonProps={{\r\n              'aria-label': 'change date',\r\n            }}\r\n          />\r\n          <KeyboardDatePicker\r\n            className={classes.data}\r\n            disableToolbar\r\n            variant=\"inline\"\r\n            format=\"dd/MM/yyyy\"\r\n            margin=\"normal\"\r\n            id=\"date-picker-dialog\"\r\n            label=\"Até\"\r\n            size=\"small\"\r\n            invalidDateMessage=\"Data inválida.\"\r\n            value={selectedDateTo}\r\n            onChange={handleDateChangeTo}\r\n            KeyboardButtonProps={{\r\n              'aria-label': 'change date',\r\n            }}\r\n          />\r\n        </MuiPickersUtilsProvider>\r\n      </div>\r\n      <Paper>\r\n        <TableContainer>\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align='center'>Data</TableCell>\r\n                <TableCell align='center'>Nome</TableCell>\r\n                <TableCell align='center'>Telefone</TableCell>\r\n                <TableCell align='center'>Avaliação</TableCell>\r\n                <TableCell align='center'>Recomenda</TableCell>\r\n                <TableCell align='center'>Opinião</TableCell>\r\n                <TableCell align='center'/>\r\n                <TableCell align='center'/>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              <MuiThemeProvider theme={theme}>\r\n                { suggests.map( suggest => {\r\n                  return (\r\n                    <TableRow hover key={suggest._id} role=\"checkbox\" tabIndex={-1}>\r\n                      <TableCell align='center'>{format(parseISO(suggest.createdAt), 'dd/MM/yyyy HH:mm', {timeZone: 'America/Sao_Paulo'} )}</TableCell>\r\n                      <TableCell align='center'>{suggest.name}</TableCell>\r\n                      <TableCell align='center'>{suggest.phone}</TableCell>\r\n                      <TableCell align='center'>\r\n                        <Rating name=\"read-only\" size=\"small\" value={suggest.stars? suggest.stars: 0} precision={0.5} readOnly/>\r\n                      </TableCell>\r\n                      <TableCell align='center'>{suggest.recommends? (<CheckIcon/>) : (<CloseIcon/>)}</TableCell>\r\n                      <TableCell align='center'>{suggest.opinion}</TableCell>\r\n                      <TableCell align='center'>\r\n                        <IconButton onClick={() => favoriteUpdate(suggest)}>\r\n                          {suggest.favorite? (<StarIcon color='secondary'/>):(<StarBorderIcon/>)}\r\n                        </IconButton>\r\n                      </TableCell>\r\n                      <TableCell align='center'>\r\n                        <IconButton onClick={() => outlierUpdate(suggest)}>\r\n                          {suggest.outlier? (<DeleteOutlineIcon color=\"disabled\"/>):(<DeleteOutlineIcon/>)}\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )\r\n                })}\r\n              </MuiThemeProvider>\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <Grid className={classes.center} container item xs={12} spacing={3}>\r\n          <Box component=\"span\">\r\n            <Pagination\r\n              count={pages}\r\n              page={page}\r\n              onChange={handleChangePage}\r\n            />\r\n          </Box>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nSuggest.prototypes = {\r\n  suggest: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  companyById: state.company.companyById,\r\n  suggests: state.suggest.suggests,\r\n  infosSuggests: state.suggest.infosSuggests,\r\n});\r\n\r\nconst mapsDispatchToProps = dispatch => \r\n  bindActionCreators({listSuggest, favorite, outlier, atvCompany}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapsDispatchToProps)(Suggest);"]},"metadata":{},"sourceType":"module"}