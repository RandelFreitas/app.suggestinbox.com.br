{"ast":null,"code":"import _objectSpread from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import api from'../services/api';import history from\"../services/history\";var ACTIONS={INFOS:'INFOS',ADD:'ADD_SUGGEST',GET_MENU:'GET_MENU'};var INITIAL_STATE={infos:[],idTable:[],suggest:[],menu:[],sectionMenu:[]};export var clientReducer=function clientReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.INFOS:return _objectSpread({},state,{infos:action.infos,idTable:action.idTable});case ACTIONS.GET_MENU:return _objectSpread({},state,{menu:action.menu,sectionMenu:action.sectionMenu});case ACTIONS.ADD:return _objectSpread({},state,{suggest:action.suggest});default:return state;}};//OBTER INFOS DA COMPANIA\nexport var getInfo=function getInfo(idCompany,idTable){return function(dispatch){api.get(\"/client/company/\".concat(idCompany)).then(function(Response){dispatch({type:ACTIONS.INFOS,infos:Response.data,idTable:idTable});}).catch(function(error){console.log(error);});};};//ENVIAR SUGGEST\nexport var submitSuggest=function submitSuggest(suggest){if(suggest.recommends==='y'){suggest.recommends=true;}else{suggest.recommends=false;}return function(dispatch){api.post(\"/client/company/\".concat(suggest.companyId),suggest).then(function(Response){dispatch({type:ACTIONS.ADD,suggest:Response.data});},history.push(\"/client/opiniao/sucesso/?\".concat(suggest.companyId))).catch(function(error){console.log(error);});};};//LISTAR MENU\nexport var getMenu=function getMenu(idCompany){return function(dispatch){api.get(\"/client/company/menu/\".concat(idCompany)).then(function(Response){dispatch({type:ACTIONS.GET_MENU,menu:Response.data,sectionMenu:Response.data.sectionMenu});}).catch(function(error){console.log(error);});};};//ENVIAR CALL\nexport var addCall=function addCall(idCompany,idTable){var call={table:idTable,companyId:idCompany};console.log(call);return function(dispatch){api.post(\"/client/company/call/\".concat(idCompany),call).then(function(Response){dispatch({type:ACTIONS.ADD_CALL});})//history.push(`/suggest/call/success`))\n.catch(function(error){console.log(error);});};};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/clientReducer.js"],"names":["api","history","ACTIONS","INFOS","ADD","GET_MENU","INITIAL_STATE","infos","idTable","suggest","menu","sectionMenu","clientReducer","state","action","type","getInfo","idCompany","dispatch","get","then","Response","data","catch","error","console","log","submitSuggest","recommends","post","companyId","push","getMenu","addCall","call","table","ADD_CALL"],"mappings":"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","sourcesContent":["import api from '../services/api';\r\nimport history from \"../services/history\";\r\n\r\nconst ACTIONS = {\r\n  INFOS: 'INFOS',\r\n  ADD: 'ADD_SUGGEST',\r\n  GET_MENU: 'GET_MENU'\r\n}\r\nconst INITIAL_STATE = {\r\n  infos:[],\r\n  idTable: [],\r\n  suggest:[],\r\n  menu: [],\r\n  sectionMenu: [],\r\n}\r\nexport const clientReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.INFOS:\r\n      return {...state, infos: action.infos, idTable: action.idTable}\r\n    case ACTIONS.GET_MENU:\r\n      return {...state, menu: action.menu, sectionMenu: action.sectionMenu}\r\n    case ACTIONS.ADD:\r\n      return {...state, suggest: action.suggest}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//OBTER INFOS DA COMPANIA\r\nexport const getInfo = (idCompany, idTable) => {\r\n  return dispatch => {\r\n    api.get(`/client/company/${idCompany}`)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.INFOS,\r\n        infos: Response.data,\r\n        idTable: idTable\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//ENVIAR SUGGEST\r\nexport const submitSuggest = (suggest) => {\r\n  if(suggest.recommends === 'y'){\r\n    suggest.recommends = true;\r\n  }else{\r\n    suggest.recommends = false;\r\n  }\r\n  return dispatch => {\r\n    api.post(`/client/company/${suggest.companyId}`, suggest)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.ADD,\r\n        suggest: Response.data,\r\n      });\r\n    }, history.push(`/client/opiniao/sucesso/?${suggest.companyId}`))\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//LISTAR MENU\r\nexport const getMenu = (idCompany) => {\r\n  return dispatch => {\r\n    api.get(`/client/company/menu/${idCompany}`)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.GET_MENU,\r\n        menu: Response.data,\r\n        sectionMenu: Response.data.sectionMenu,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//ENVIAR CALL\r\nexport const addCall = (idCompany, idTable) => {\r\n  const call = {\r\n    table: idTable,\r\n    companyId: idCompany\r\n  };\r\n  console.log(call);\r\n  return dispatch => {\r\n    api.post(`/client/company/call/${idCompany}`, call)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.ADD_CALL,\r\n      });\r\n    }) //history.push(`/suggest/call/success`))\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}