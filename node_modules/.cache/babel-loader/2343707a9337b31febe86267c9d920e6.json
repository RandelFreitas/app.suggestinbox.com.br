{"ast":null,"code":"import api from '../services/api';\nimport history from '../services/history';\nimport { setInfosLocalStorage, logoutAdm } from '../services/auth';\nconst ACTIONS = {\n  AUTH: 'AUTH'\n};\nconst STATE_INITIAL = {\n  infos: [],\n  token: ''\n};\nexport const authReducer = (state = STATE_INITIAL, action) => {\n  switch (action.type) {\n    case ACTIONS.AUTH:\n      return { ...state,\n        manager: action.manager\n      };\n\n    default:\n      return state;\n  }\n};\nexport const teste = values => {\n  return dispatch => {\n    console.log(values);\n  };\n};\nexport const auth = login => {\n  return dispatch => {\n    api.post('/auth/authenticate', login).then(Response => {\n      dispatch({\n        type: ACTIONS.AUTH,\n        infos: Response.data\n      }, setInfosLocalStorage(Response.data.token, Response.data.name), history.push(`/adm`));\n    });\n  };\n};\nexport const logout = () => {\n  logoutAdm();\n  history.push(`/`);\n};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/SuggestInBox/src/store/authReducer.js"],"names":["api","history","setInfosLocalStorage","logoutAdm","ACTIONS","AUTH","STATE_INITIAL","infos","token","authReducer","state","action","type","manager","teste","values","dispatch","console","log","auth","login","post","then","Response","data","name","push","logout"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,oBAAT,EAA+BC,SAA/B,QAAgD,kBAAhD;AAEA,MAAMC,OAAO,GAAG;AACdC,EAAAA,IAAI,EAAE;AADQ,CAAhB;AAIA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,KAAK,EAAC,EADc;AAEpBC,EAAAA,KAAK,EAAE;AAFa,CAAtB;AAKA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGJ,aAAT,EAAwBK,MAAxB,KAAmC;AAC5D,UAAOA,MAAM,CAACC,IAAd;AACE,SAAKR,OAAO,CAACC,IAAb;AACE,aAAO,EAAC,GAAGK,KAAJ;AAAWG,QAAAA,OAAO,EAAEF,MAAM,CAACE;AAA3B,OAAP;;AACF;AACE,aAAOH,KAAP;AAJJ;AAMD,CAPM;AASP,OAAO,MAAMI,KAAK,GAAIC,MAAD,IAAY;AAC/B,SAAOC,QAAQ,IAAI;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACH,GAFD;AAGD,CAJM;AAMP,OAAO,MAAMI,IAAI,GAAIC,KAAD,IAAW;AAC7B,SAAOJ,QAAQ,IAAI;AACjBhB,IAAAA,GAAG,CAACqB,IAAJ,CAAS,oBAAT,EAA+BD,KAA/B,EACCE,IADD,CACMC,QAAQ,IAAI;AAChBP,MAAAA,QAAQ,CAAC;AACLJ,QAAAA,IAAI,EAAER,OAAO,CAACC,IADT;AAELE,QAAAA,KAAK,EAAEgB,QAAQ,CAACC;AAFX,OAAD,EAINtB,oBAAoB,CAACqB,QAAQ,CAACC,IAAT,CAAchB,KAAf,EAAsBe,QAAQ,CAACC,IAAT,CAAcC,IAApC,CAJd,EAKNxB,OAAO,CAACyB,IAAR,CAAc,MAAd,CALM,CAAR;AAOD,KATD;AAUD,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMC,MAAM,GAAG,MAAK;AACzBxB,EAAAA,SAAS;AACTF,EAAAA,OAAO,CAACyB,IAAR,CAAc,GAAd;AACD,CAHM","sourcesContent":["import api from '../services/api';\r\nimport history from '../services/history';\r\nimport { setInfosLocalStorage, logoutAdm } from '../services/auth';\r\n\r\nconst ACTIONS = {\r\n  AUTH: 'AUTH',\r\n}\r\n\r\nconst STATE_INITIAL = {\r\n  infos:[],\r\n  token: '',\r\n}\r\n\r\nexport const authReducer = (state = STATE_INITIAL, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.AUTH:\r\n      return {...state, manager: action.manager}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const teste = (values) => {\r\n  return dispatch => {\r\n      console.log(values);\r\n  }\r\n}\r\n\r\nexport const auth = (login) => {\r\n  return dispatch => {\r\n    api.post('/auth/authenticate', login)\r\n    .then(Response => {\r\n      dispatch({\r\n          type: ACTIONS.AUTH,\r\n          infos: Response.data,\r\n        },\r\n        setInfosLocalStorage(Response.data.token, Response.data.name),\r\n        history.push(`/adm`)\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\nexport const logout = () =>{\r\n  logoutAdm();\r\n  history.push(`/`);\r\n}"]},"metadata":{},"sourceType":"module"}