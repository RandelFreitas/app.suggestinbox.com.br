{"ast":null,"code":"import api from '../services/api';\nconst ACTIONS = {\n  LIST_MENU: 'LISTMENU',\n  ATV_MENU: 'ATVMENU'\n};\nconst INITIAL_STATE = {\n  menu: [],\n  sectionMenu: [],\n  infosMenu: []\n};\nexport const menuReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ACTIONS.LIST_MENU:\n      return { ...state,\n        menu: action.menu,\n        infosMenu: action.infosMenu\n      };\n\n    case ACTIONS.ADD_MENU:\n      return { ...state,\n        menu: action.menu\n      };\n\n    case ACTIONS.BY_ID_MENU:\n      console.log(action.menu);\n      return { ...state,\n        menu: action.menu,\n        sectionMenu: action.sectionMenu\n      };\n\n    case ACTIONS.UPDATE_MENU:\n      return state;\n\n    default:\n      return state;\n  }\n}; //LISTAR TODOS OS MENUS\n\nexport const getMenu = idCompany => {\n  return dispatch => {\n    api.get(`/adm/menu/${idCompany}`).then(Response => {\n      const {\n        docs\n      } = Response.data;\n      dispatch({\n        type: ACTIONS.LIST_MENU,\n        menu: docs\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n}; //ADICIONAR MENU\n\nexport const addMenu = (menu, id) => {\n  return dispatch => {\n    api.post('/adm/menu', menu).then(Response => {\n      dispatch({\n        type: ACTIONS.ADD_MENU,\n        menu: Response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n}; //GET BY ID MENU\n\nexport const getMenuById = idCompany => {\n  return dispatch => {\n    api.get(`/client/company/menu/${idCompany}`).then(Response => {\n      dispatch({\n        type: ACTIONS.GET_MENU,\n        menu: Response.data,\n        sectionMenu: Response.data.sectionMenu\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n}; //UPDATE COMPANY\n\nexport const updateMenu = (menu, id, idUser) => {\n  return dispatch => {\n    api.put(`/adm/menu/${id}`, menu).then(Response => {\n      dispatch({\n        type: ACTIONS.UPDATE_MENU //company: Response.data\n\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/menuReducer.js"],"names":["api","ACTIONS","LIST_MENU","ATV_MENU","INITIAL_STATE","menu","sectionMenu","infosMenu","menuReducer","state","action","type","ADD_MENU","BY_ID_MENU","console","log","UPDATE_MENU","getMenu","idCompany","dispatch","get","then","Response","docs","data","catch","error","addMenu","id","post","getMenuById","GET_MENU","updateMenu","idUser","put"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AAEA,MAAMC,OAAO,GAAG;AACdC,EAAAA,SAAS,EAAE,UADG;AAEdC,EAAAA,QAAQ,EAAE;AAFI,CAAhB;AAIA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,IAAI,EAAE,EADc;AAEpBC,EAAAA,WAAW,EAAE,EAFO;AAGpBC,EAAAA,SAAS,EAAE;AAHS,CAAtB;AAKA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGL,aAAT,EAAwBM,MAAxB,KAAmC;AAC5D,UAAOA,MAAM,CAACC,IAAd;AACE,SAAKV,OAAO,CAACC,SAAb;AACE,aAAO,EAAC,GAAGO,KAAJ;AAAWJ,QAAAA,IAAI,EAAEK,MAAM,CAACL,IAAxB;AAA8BE,QAAAA,SAAS,EAAEG,MAAM,CAACH;AAAhD,OAAP;;AACF,SAAKN,OAAO,CAACW,QAAb;AACE,aAAO,EAAC,GAAGH,KAAJ;AAAWJ,QAAAA,IAAI,EAAEK,MAAM,CAACL;AAAxB,OAAP;;AACF,SAAKJ,OAAO,CAACY,UAAb;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACL,IAAnB;AACA,aAAO,EAAC,GAAGI,KAAJ;AAAWJ,QAAAA,IAAI,EAAEK,MAAM,CAACL,IAAxB;AAA8BC,QAAAA,WAAW,EAAEI,MAAM,CAACJ;AAAlD,OAAP;;AACF,SAAKL,OAAO,CAACe,WAAb;AACE,aAAOP,KAAP;;AACF;AACE,aAAOA,KAAP;AAXJ;AAaD,CAdM,C,CAeP;;AACA,OAAO,MAAMQ,OAAO,GAAIC,SAAD,IAAe;AACpC,SAAOC,QAAQ,IAAI;AACjBnB,IAAAA,GAAG,CAACoB,GAAJ,CAAS,aAAYF,SAAU,EAA/B,EACCG,IADD,CACMC,QAAQ,IAAI;AAChB,YAAM;AAAEC,QAAAA;AAAF,UAAWD,QAAQ,CAACE,IAA1B;AACAL,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAEV,OAAO,CAACC,SADP;AAEPG,QAAAA,IAAI,EAAEkB;AAFC,OAAD,CAAR;AAID,KAPD,EAQCE,KARD,CAQOC,KAAK,IAAI;AACdZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,KAVD;AAWD,GAZD;AAaD,CAdM,C,CAeP;;AACA,OAAO,MAAMC,OAAO,GAAG,CAACtB,IAAD,EAAOuB,EAAP,KAAc;AACnC,SAAOT,QAAQ,IAAI;AACjBnB,IAAAA,GAAG,CAAC6B,IAAJ,CAAS,WAAT,EAAsBxB,IAAtB,EACCgB,IADD,CACMC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAEV,OAAO,CAACW,QADP;AAEPP,QAAAA,IAAI,EAAEiB,QAAQ,CAACE;AAFR,OAAD,CAAR;AAID,KAND,EAOCC,KAPD,CAOOC,KAAK,IAAI;AACdZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,KATD;AAUD,GAXD;AAYD,CAbM,C,CAcP;;AAGA,OAAO,MAAMI,WAAW,GAAIZ,SAAD,IAAe;AACxC,SAAOC,QAAQ,IAAI;AACjBnB,IAAAA,GAAG,CAACoB,GAAJ,CAAS,wBAAuBF,SAAU,EAA1C,EACCG,IADD,CACMC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAEV,OAAO,CAAC8B,QADP;AAEP1B,QAAAA,IAAI,EAAEiB,QAAQ,CAACE,IAFR;AAGPlB,QAAAA,WAAW,EAAEgB,QAAQ,CAACE,IAAT,CAAclB;AAHpB,OAAD,CAAR;AAKD,KAPD,EAQCmB,KARD,CAQOC,KAAK,IAAI;AACdZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,KAVD;AAWD,GAZD;AAaD,CAdM,C,CAkBP;;AACA,OAAO,MAAMM,UAAU,GAAG,CAAC3B,IAAD,EAAOuB,EAAP,EAAWK,MAAX,KAAsB;AAC9C,SAAOd,QAAQ,IAAI;AACjBnB,IAAAA,GAAG,CAACkC,GAAJ,CAAS,aAAYN,EAAG,EAAxB,EAA2BvB,IAA3B,EACCgB,IADD,CACMC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAEV,OAAO,CAACe,WADP,CAEP;;AAFO,OAAD,CAAR;AAID,KAND,EAOCS,KAPD,CAOOC,KAAK,IAAI;AACdZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,KATD;AAUD,GAXD;AAYD,CAbM","sourcesContent":["import api from '../services/api';\r\n\r\nconst ACTIONS = {\r\n  LIST_MENU: 'LISTMENU',\r\n  ATV_MENU: 'ATVMENU'\r\n}\r\nconst INITIAL_STATE = {\r\n  menu: [],\r\n  sectionMenu: [],\r\n  infosMenu: [],\r\n}\r\nexport const menuReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.LIST_MENU:\r\n      return {...state, menu: action.menu, infosMenu: action.infosMenu}\r\n    case ACTIONS.ADD_MENU:\r\n      return {...state, menu: action.menu}\r\n    case ACTIONS.BY_ID_MENU:\r\n      console.log(action.menu);\r\n      return {...state, menu: action.menu, sectionMenu: action.sectionMenu}\r\n    case ACTIONS.UPDATE_MENU:\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//LISTAR TODOS OS MENUS\r\nexport const getMenu = (idCompany) => {\r\n  return dispatch => {\r\n    api.get(`/adm/menu/${idCompany}`)\r\n    .then(Response => {\r\n      const { docs } = Response.data;\r\n      dispatch({\r\n        type: ACTIONS.LIST_MENU,\r\n        menu: docs,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//ADICIONAR MENU\r\nexport const addMenu = (menu, id) => {\r\n  return dispatch => {\r\n    api.post('/adm/menu', menu)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.ADD_MENU,\r\n        menu: Response.data,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//GET BY ID MENU\r\n\r\n\r\nexport const getMenuById = (idCompany) => {\r\n  return dispatch => {\r\n    api.get(`/client/company/menu/${idCompany}`)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.GET_MENU,\r\n        menu: Response.data,\r\n        sectionMenu: Response.data.sectionMenu,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n\r\n\r\n\r\n//UPDATE COMPANY\r\nexport const updateMenu = (menu, id, idUser) => {\r\n  return dispatch => {\r\n    api.put(`/adm/menu/${id}`, menu)\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.UPDATE_MENU,\r\n        //company: Response.data\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}