{"ast":null,"code":"import _slicedToArray from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import PropTypes from'prop-types';import{bindActionCreators}from'redux';import{connect}from'react-redux';import{listSuggest,favorite,outlier}from'../../../../store/admReducer';import{parseISO}from'date-fns';import{format}from'date-fns-tz';import DateFnsUtils from'@date-io/date-fns';import{MuiPickersUtilsProvider,KeyboardTimePicker,KeyboardDatePicker}from'@material-ui/pickers';import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import FormHelperText from'@material-ui/core/FormHelperText';import Box from'@material-ui/core/Box';import Pagination from'@material-ui/lab/Pagination';import Typography from'@material-ui/core/Typography';import StarIcon from'@material-ui/icons/Star';import StarBorderIcon from'@material-ui/icons/StarBorder';import DeleteOutlineIcon from'@material-ui/icons/DeleteOutline';import Rating from'@material-ui/lab/Rating';import{makeStyles}from'@material-ui/core/styles';import Grid from'@material-ui/core/Grid';import{MuiThemeProvider,createMuiTheme}from'@material-ui/core/styles';import{IconButton}from'@material-ui/core';import CloseIcon from'@material-ui/icons/Close';import CheckIcon from'@material-ui/icons/Check';var theme=createMuiTheme({palette:{secondary:{main:'#FFB701'}}});var useStyles=makeStyles(function(theme){return{center:{justifyContent:'center',textAlign:'center',margin:'20px'}};});var Suggest=function Suggest(props){var classes=useStyles();var suggests=props.suggests,infosSuggests=props.infosSuggests;var nOfPages=infosSuggests.pages;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(25),_useState4=_slicedToArray(_useState3,2),nOfItems=_useState4[0],setNoOfItems=_useState4[1];var _useState5=useState(window.location.href.split('/?')[2]),_useState6=_slicedToArray(_useState5,1),idCompany=_useState6[0];useEffect(function(){props.listSuggest(page,nOfItems,idCompany);},[page,nOfItems]);var handleChange=function handleChange(event,value){setPage(value);};var handleNofItems=function handleNofItems(event){setNoOfItems(event.target.value);setPage(1);};var favoriteUpdate=function favoriteUpdate(suggest){if(suggest.favorite){suggest.favorite=false;return props.favorite(suggest);}else{suggest.favorite=true;return props.favorite(suggest);}};var outlierUpdate=function outlierUpdate(suggest){if(suggest.outlier){suggest.outlier=false;return props.outlier(suggest);}else{suggest.outlier=true;return props.outlier(suggest);}};var _React$useState=React.useState(new Date('2014-08-18T21:11:54')),_React$useState2=_slicedToArray(_React$useState,2),selectedDate=_React$useState2[0],setSelectedDate=_React$useState2[1];var handleDateChange=function handleDateChange(date){setSelectedDate(date);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",component:\"h2\"},\"Suggest\\xF5es\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FormControl,null,/*#__PURE__*/React.createElement(FormHelperText,null,\"N\\xFAmero por p\\xE1gina:\"),/*#__PURE__*/React.createElement(Select,{value:nOfItems,onChange:handleNofItems,inputProps:{'aria-label':'Without label'}},/*#__PURE__*/React.createElement(MenuItem,{value:10},\"10\"),/*#__PURE__*/React.createElement(MenuItem,{value:25},\"25\"),/*#__PURE__*/React.createElement(MenuItem,{value:50},\"50\"))),/*#__PURE__*/React.createElement(MuiPickersUtilsProvider,{utils:DateFnsUtils},/*#__PURE__*/React.createElement(KeyboardDatePicker,{disableToolbar:true,variant:\"inline\",format:\"MM/dd/yyyy\",margin:\"normal\",id:\"date-picker-inline\",label:\"Date picker inline\",value:selectedDate,onChange:handleDateChange,KeyboardButtonProps:{'aria-label':'change date'}}))),/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(TableContainer,null,/*#__PURE__*/React.createElement(Table,{stickyHeader:true,\"aria-label\":\"sticky table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Data\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Nome\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Telefone\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Avalia\\xE7\\xE3o\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Recomenda\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Opini\\xE3o\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"}),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"}))),/*#__PURE__*/React.createElement(TableBody,null,/*#__PURE__*/React.createElement(MuiThemeProvider,{theme:theme},suggests.map(function(suggest){return/*#__PURE__*/React.createElement(TableRow,{hover:true,key:suggest._id,role:\"checkbox\",tabIndex:-1},/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},format(parseISO(suggest.createdAt),'dd/MM/yyyy HH:mm',{timeZone:'America/Sao_Paulo'})),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},suggest.name),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},suggest.phone),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(Rating,{name:\"read-only\",size:\"small\",value:suggest.stars?suggest.stars:0,precision:0.5,readOnly:true})),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},suggest.recommends?/*#__PURE__*/React.createElement(CheckIcon,null):/*#__PURE__*/React.createElement(CloseIcon,null)),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},suggest.opinion),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return favoriteUpdate(suggest);}},suggest.favorite?/*#__PURE__*/React.createElement(StarIcon,{color:\"secondary\"}):/*#__PURE__*/React.createElement(StarBorderIcon,null))),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return outlierUpdate(suggest);}},suggest.outlier?/*#__PURE__*/React.createElement(DeleteOutlineIcon,{color:\"disabled\"}):/*#__PURE__*/React.createElement(DeleteOutlineIcon,null))));}))))),/*#__PURE__*/React.createElement(Grid,{className:classes.center,container:true,item:true,xs:12,spacing:3},/*#__PURE__*/React.createElement(Box,{component:\"span\"},/*#__PURE__*/React.createElement(Pagination,{count:nOfPages,page:page,onChange:handleChange})))));};Suggest.prototypes={suggest:PropTypes.array.isRequired};var mapStateToProps=function mapStateToProps(state){return{suggests:state.adm.suggests,infosSuggests:state.adm.infosSuggests};};var mapsDispatchToProps=function mapsDispatchToProps(dispatch){return bindActionCreators({listSuggest:listSuggest,favorite:favorite,outlier:outlier},dispatch);};export default connect(mapStateToProps,mapsDispatchToProps)(Suggest);","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/pages/User/Suggest/Suggests/index.js"],"names":["React","useState","useEffect","PropTypes","bindActionCreators","connect","listSuggest","favorite","outlier","parseISO","format","DateFnsUtils","MuiPickersUtilsProvider","KeyboardTimePicker","KeyboardDatePicker","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","MenuItem","FormControl","Select","FormHelperText","Box","Pagination","Typography","StarIcon","StarBorderIcon","DeleteOutlineIcon","Rating","makeStyles","Grid","MuiThemeProvider","createMuiTheme","IconButton","CloseIcon","CheckIcon","theme","palette","secondary","main","useStyles","center","justifyContent","textAlign","margin","Suggest","props","classes","suggests","infosSuggests","nOfPages","pages","page","setPage","nOfItems","setNoOfItems","window","location","href","split","idCompany","handleChange","event","value","handleNofItems","target","favoriteUpdate","suggest","outlierUpdate","Date","selectedDate","setSelectedDate","handleDateChange","date","map","_id","createdAt","timeZone","name","phone","stars","recommends","opinion","prototypes","array","isRequired","mapStateToProps","state","adm","mapsDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { listSuggest, favorite, outlier } from '../../../../store/admReducer';\r\nimport { parseISO } from 'date-fns';\r\nimport { format } from 'date-fns-tz';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, KeyboardTimePicker, KeyboardDatePicker } from '@material-ui/pickers';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Box from '@material-ui/core/Box';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport { IconButton } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    secondary:{\r\n      main: '#FFB701'\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles((theme) =>({\r\n  center: {\r\n    justifyContent: 'center',\r\n    textAlign: 'center',\r\n    margin: '20px'\r\n  },\r\n}));\r\n\r\nconst Suggest = (props) => {\r\n  const classes = useStyles();\r\n  const {suggests, infosSuggests} = props;\r\n  const nOfPages = infosSuggests.pages;\r\n  const [page, setPage] = useState(1);\r\n  const [nOfItems, setNoOfItems] = useState(25);\r\n  const [ idCompany ] = useState(window.location.href.split('/?')[2]);\r\n\r\n  useEffect(() => {\r\n    props.listSuggest(page, nOfItems, idCompany);\r\n  },[page, nOfItems]);\r\n\r\n  const handleChange=(event, value)=>{\r\n    setPage(value);\r\n  }\r\n  const handleNofItems=(event)=>{\r\n    setNoOfItems(event.target.value);\r\n    setPage(1);\r\n  }\r\n  const favoriteUpdate = (suggest) => {\r\n    if(suggest.favorite){\r\n      suggest.favorite = false;\r\n      return props.favorite(suggest)\r\n    }else{\r\n      suggest.favorite = true;\r\n      return props.favorite(suggest)\r\n    }\r\n  }\r\n  const outlierUpdate = (suggest) => {\r\n    if(suggest.outlier){\r\n      suggest.outlier = false;\r\n      return props.outlier(suggest)\r\n    }else{\r\n      suggest.outlier = true;\r\n      return props.outlier(suggest)\r\n    }\r\n  }\r\n  const [selectedDate, setSelectedDate] = React.useState(new Date('2014-08-18T21:11:54'));\r\n\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h5\" component=\"h2\">Suggestões</Typography>\r\n       <div>\r\n        <FormControl>\r\n          <FormHelperText>Número por página:</FormHelperText>\r\n          <Select\r\n            value={nOfItems}\r\n            onChange={handleNofItems}\r\n            inputProps={{ 'aria-label': 'Without label' }}>\r\n            <MenuItem value={10}>10</MenuItem>\r\n            <MenuItem value={25}>25</MenuItem>\r\n            <MenuItem value={50}>50</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n          <KeyboardDatePicker\r\n            disableToolbar\r\n            variant=\"inline\"\r\n            format=\"MM/dd/yyyy\"\r\n            margin=\"normal\"\r\n            id=\"date-picker-inline\"\r\n            label=\"Date picker inline\"\r\n            value={selectedDate}\r\n            onChange={handleDateChange}\r\n            KeyboardButtonProps={{\r\n              'aria-label': 'change date',\r\n            }}\r\n          />\r\n        </MuiPickersUtilsProvider>\r\n      </div>\r\n      <Paper>\r\n        <TableContainer>\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align='center'>Data</TableCell>\r\n                <TableCell align='center'>Nome</TableCell>\r\n                <TableCell align='center'>Telefone</TableCell>\r\n                <TableCell align='center'>Avaliação</TableCell>\r\n                <TableCell align='center'>Recomenda</TableCell>\r\n                <TableCell align='center'>Opinião</TableCell>\r\n                <TableCell align='center'/>\r\n                <TableCell align='center'/>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              <MuiThemeProvider theme={theme}>\r\n                { suggests.map( suggest => {\r\n                  return (\r\n                    <TableRow hover key={suggest._id} role=\"checkbox\" tabIndex={-1}>\r\n                      <TableCell align='center'>{format(parseISO(suggest.createdAt), 'dd/MM/yyyy HH:mm', {timeZone: 'America/Sao_Paulo'} )}</TableCell>\r\n                      <TableCell align='center'>{suggest.name}</TableCell>\r\n                      <TableCell align='center'>{suggest.phone}</TableCell>\r\n                      <TableCell align='center'>\r\n                        <Rating name=\"read-only\" size=\"small\" value={suggest.stars? suggest.stars: 0} precision={0.5} readOnly/>\r\n                      </TableCell>\r\n                      <TableCell align='center'>{suggest.recommends? (<CheckIcon/>) : (<CloseIcon/>)}</TableCell>\r\n                      <TableCell align='center'>{suggest.opinion}</TableCell>\r\n                      <TableCell align='center'>\r\n                        <IconButton onClick={() => favoriteUpdate(suggest)}>\r\n                          {suggest.favorite? (<StarIcon color='secondary'/>):(<StarBorderIcon/>)}\r\n                        </IconButton>\r\n                      </TableCell>\r\n                      <TableCell align='center'>\r\n                        <IconButton onClick={() => outlierUpdate(suggest)}>\r\n                          {suggest.outlier? (<DeleteOutlineIcon color=\"disabled\"/>):(<DeleteOutlineIcon/>)}\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )\r\n                })}\r\n              </MuiThemeProvider>\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <Grid className={classes.center} container item xs={12} spacing={3}>\r\n          <Box component=\"span\">\r\n            <Pagination\r\n              count={nOfPages}\r\n              page={page}\r\n              onChange={handleChange}\r\n            />\r\n          </Box>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nSuggest.prototypes = {\r\n  suggest: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  suggests: state.adm.suggests,\r\n  infosSuggests: state.adm.infosSuggests,\r\n});\r\n\r\nconst mapsDispatchToProps = dispatch => \r\n  bindActionCreators({listSuggest, favorite, outlier}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapsDispatchToProps)(Suggest);"]},"metadata":{},"sourceType":"module"}