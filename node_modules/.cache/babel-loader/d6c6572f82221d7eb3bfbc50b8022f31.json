{"ast":null,"code":"import _toConsumableArray from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\Randel\\\\PROJETO 2020\\\\SuggestInBox\\\\app.suggestinbox.com.br\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import api from'../services/api';//import history from '../services/history';\nvar ACTIONS={LIST_SUGGESTS:'LISTSUGGESTS',LIST_COMPANIES:'LISTCOMPANIES',FAVORITE:'FAVORITE',TOFILE:'TOFILE'};var INITIAL_STATE={suggests:[],infosSuggests:[],companies:[],infosCompanies:[]};export var admReducer=function admReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.LIST_SUGGESTS:return _objectSpread({},state,{suggests:action.suggests,infosSuggests:action.infosSuggests});case ACTIONS.LIST_COMPANIES:return _objectSpread({},state,{companies:action.companies,infosCompanies:action.infosCompanies});case ACTIONS.FAVORITE:var listUp=_toConsumableArray(state.suggests);listUp.forEach(function(suggest){if(suggest._id===action._id){suggest.favorite=true;}});return _objectSpread({},state,{suggests:listUp});case ACTIONS.TOFILE:var listUpOut=_toConsumableArray(state.suggests);listUpOut.forEach(function(suggest){if(suggest._id===action._id){suggest.outlier=true;}});return _objectSpread({},state,{suggests:listUpOut});default:return state;}};//LISTAR SUGGESTS\nexport var listSuggest=function listSuggest(page,nOfItems){return function(dispatch){api.get(\"/adm/suggest?page=\".concat(page,\"&limit=\").concat(nOfItems)).then(function(Response){var _Response$data=Response.data,docs=_Response$data.docs,infos=_Response$data.infos;dispatch({type:ACTIONS.LIST_SUGGESTS,suggests:docs,infosSuggests:infos});}).catch(function(error){console.log(error);});};};//LISTAR COMPANIAS\nexport var listCompanies=function listCompanies(page,nOfItems){return function(dispatch){api.get(\"/adm/company?page=\".concat(page,\"&limit=\").concat(nOfItems)).then(function(Response){var _Response$data2=Response.data,docs=_Response$data2.docs,infos=_Response$data2.infos;dispatch({type:ACTIONS.LIST_COMPANIES,companies:docs,infosCompanies:infos});}).catch(function(error){console.log(error);});};};//FAVORITAR SUGGEST\nexport var favorite=function favorite(suggest){return function(dispatch){api.put(\"/adm/suggest/\".concat(suggest._id),suggest).then(function(Response){dispatch({type:ACTIONS.FAVORITE,id:suggest._id});});};};//ARQUIVAR SUGGEST\nexport var outlier=function outlier(suggest){return function(dispatch){api.put(\"/adm/suggest/\".concat(suggest._id),suggest).then(function(Response){dispatch({type:ACTIONS.TOFILE,id:suggest._id});});};};","map":{"version":3,"sources":["D:/Randel/PROJETO 2020/SuggestInBox/app.suggestinbox.com.br/src/store/admReducer.js"],"names":["api","ACTIONS","LIST_SUGGESTS","LIST_COMPANIES","FAVORITE","TOFILE","INITIAL_STATE","suggests","infosSuggests","companies","infosCompanies","admReducer","state","action","type","listUp","forEach","suggest","_id","favorite","listUpOut","outlier","listSuggest","page","nOfItems","dispatch","get","then","Response","data","docs","infos","catch","error","console","log","listCompanies","put","id"],"mappings":"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","sourcesContent":["import api from '../services/api';\r\n//import history from '../services/history';\r\n\r\nconst ACTIONS = {\r\n  LIST_SUGGESTS: 'LISTSUGGESTS',\r\n  LIST_COMPANIES: 'LISTCOMPANIES',\r\n  FAVORITE: 'FAVORITE',\r\n  TOFILE: 'TOFILE'\r\n}\r\nconst INITIAL_STATE = {\r\n  suggests: [],\r\n  infosSuggests: [],\r\n  companies: [],\r\n  infosCompanies: [],\r\n}\r\nexport const admReducer = (state = INITIAL_STATE, action) => {\r\n  switch(action.type){\r\n    case ACTIONS.LIST_SUGGESTS:\r\n      return {...state, suggests: action.suggests, infosSuggests: action.infosSuggests}\r\n    case ACTIONS.LIST_COMPANIES:\r\n      return {...state, companies: action.companies, infosCompanies: action.infosCompanies}\r\n    case ACTIONS.FAVORITE:\r\n      const listUp = [...state.suggests]\r\n      listUp.forEach(suggest => {\r\n        if(suggest._id === action._id){\r\n          suggest.favorite = true;\r\n        }\r\n      })\r\n      return {...state, suggests: listUp}\r\n    case ACTIONS.TOFILE:\r\n      const listUpOut = [...state.suggests]\r\n      listUpOut.forEach(suggest => {\r\n        if(suggest._id === action._id){\r\n          suggest.outlier = true;\r\n        }\r\n      })\r\n      return {...state, suggests: listUpOut}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n//LISTAR SUGGESTS\r\nexport const listSuggest = (page, nOfItems) => {\r\n  return dispatch => {\r\n    api.get(`/adm/suggest?page=${page}&limit=${nOfItems}`)\r\n    .then(Response => {\r\n      const { docs, infos } = Response.data;\r\n      dispatch({\r\n        type: ACTIONS.LIST_SUGGESTS,\r\n        suggests: docs,\r\n        infosSuggests: infos,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//LISTAR COMPANIAS\r\nexport const listCompanies = (page, nOfItems) => {\r\n  return dispatch => {\r\n    api.get(`/adm/company?page=${page}&limit=${nOfItems}`)\r\n    .then(Response => {\r\n      const { docs, infos } = Response.data;\r\n      dispatch({\r\n        type: ACTIONS.LIST_COMPANIES,\r\n        companies: docs,\r\n        infosCompanies: infos,\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n}\r\n//FAVORITAR SUGGEST\r\nexport const favorite = (suggest) => {\r\n  return dispatch => {\r\n    api.put(`/adm/suggest/${suggest._id}`, suggest )\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.FAVORITE,\r\n        id: suggest._id\r\n      })\r\n    })\r\n  }\r\n}\r\n//ARQUIVAR SUGGEST\r\nexport const outlier = (suggest) => {\r\n  return dispatch => {\r\n    api.put(`/adm/suggest/${suggest._id}`, suggest )\r\n    .then(Response => {\r\n      dispatch({\r\n        type: ACTIONS.TOFILE,\r\n        id: suggest._id\r\n      })\r\n    })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}